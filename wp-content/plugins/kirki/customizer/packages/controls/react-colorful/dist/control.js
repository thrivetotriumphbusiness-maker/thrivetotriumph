!function(){function e(e){return e&&e.__esModule?e.default:e}var r={};r=ReactDOM;var t={};function o(){return(o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function n(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r.indexOf(t=a[o])>=0||(n[t]=e[t]);return n}function a(e){var r=(0,t.useRef)(e),o=(0,t.useRef)(function(e){r.current&&r.current(e)});return r.current=e,o.current}var l=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},c=function(e){return"touches"in e},i=function(e){return e&&e.ownerDocument.defaultView||self},s=function(e,r,t){var o=e.getBoundingClientRect(),n=c(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:l((n.pageX-(o.left+i(e).pageXOffset))/o.width),top:l((n.pageY-(o.top+i(e).pageYOffset))/o.height)}},u=function(e){c(e)||e.preventDefault()},f=e(t=React).memo(function(r){var l=r.onMove,f=r.onKey,g=n(r,["onMove","onKey"]),d=(0,t.useRef)(null),v=a(l),h=a(f),b=(0,t.useRef)(null),p=(0,t.useRef)(!1),m=(0,t.useMemo)(function(){var e=function(e){u(e),(c(e)?e.touches.length>0:e.buttons>0)&&d.current?v(s(d.current,e,b.current)):t(!1)},r=function(){return t(!1)};function t(t){var o=p.current,n=i(d.current),a=t?n.addEventListener:n.removeEventListener;a(o?"touchmove":"mousemove",e),a(o?"touchend":"mouseup",r)}return[function(e){var r=e.nativeEvent,o=d.current;if(o&&(u(r),(!p.current||c(r))&&o)){if(c(r)){p.current=!0;var n=r.changedTouches||[];n.length&&(b.current=n[0].identifier)}o.focus(),v(s(o,r,b.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),h({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[h,v]),k=m[0],C=m[1],H=m[2];return(0,t.useEffect)(function(){return H},[H]),e(t).createElement("div",o({},g,{onTouchStart:k,onMouseDown:k,className:"react-colorful__interactive",ref:d,onKeyDown:C,tabIndex:0,role:"slider"}))}),g=function(e){return e.filter(Boolean).join(" ")},d=function(r){var o=r.color,n=r.left,a=r.top,l=g(["react-colorful__pointer",r.className]);return e(t).createElement("div",{className:l,style:{top:100*(void 0===a?.5:a)+"%",left:100*n+"%"}},e(t).createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:o}}))},v=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},h={grad:.9,turn:360,rad:360/(2*Math.PI)},b=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?v(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?v(parseInt(e.substring(6,8),16)/255,2):1}},p=function(e,r){return void 0===r&&(r="deg"),Number(e)*(h[r]||1)},m=function(e){var r=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?k({h:p(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},k=function(e){var r=e.s,t=e.l;return{h:e.h,s:(r*=(t<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}},C=function(e){var r=e.s,t=e.v,o=e.a,n=(200-r)*t/100;return{h:v(e.h),s:v(n>0&&n<200?r*t/100/(n<=100?n:200-n)*100:0),l:v(n/2),a:v(o,2)}},H=function(e){var r=C(e);return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},E=function(e){var r=C(e);return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},R=function(e){var r=e.h,t=e.s,o=e.v,n=e.a;r=r/360*6,t/=100,o/=100;var a=Math.floor(r),l=o*(1-t),c=o*(1-(r-a)*t),i=o*(1-(1-r+a)*t),s=a%6;return{r:v(255*[o,c,l,l,i,o][s]),g:v(255*[i,o,o,c,l,l][s]),b:v(255*[l,l,i,o,o,c][s]),a:v(n,2)}},y=function(e){var r=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?w({h:p(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},N=function(e){var r=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?P({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},A=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},S=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=n<1?A(v(255*n)):"";return"#"+A(r)+A(t)+A(o)+a},P=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=Math.max(r,t,o),l=a-Math.min(r,t,o),c=l?a===r?(t-o)/l:a===t?2+(o-r)/l:4+(r-t)/l:0;return{h:v(60*(c<0?c+6:c)),s:v(a?l/a*100:0),v:v(a/255*100),a:n}},w=function(e){return{h:v(e.h),s:v(e.s),v:v(e.v),a:v(e.a,2)}},_=e(t).memo(function(r){var o=r.hue,n=r.onChange,a=g(["react-colorful__hue",r.className]);return e(t).createElement("div",{className:a},e(t).createElement(f,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:l(o+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":v(o),"aria-valuemax":"360","aria-valuemin":"0"},e(t).createElement(d,{className:"react-colorful__hue-pointer",left:o/360,color:H({h:o,s:100,v:100,a:1})})))}),x=e(t).memo(function(r){var o=r.hsva,n=r.onChange,a={backgroundColor:H({h:o.h,s:100,v:100,a:1})};return e(t).createElement("div",{className:"react-colorful__saturation",style:a},e(t).createElement(f,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:l(o.s+100*e.left,0,100),v:l(o.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+v(o.s)+"%, Brightness "+v(o.v)+"%"},e(t).createElement(d,{className:"react-colorful__saturation-pointer",top:1-o.v/100,left:o.s/100,color:H(o)})))}),M=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},B=function(e,r){return e.replace(/\s/g,"")===r.replace(/\s/g,"")};function I(e,r,o){var n=a(o),l=(0,t.useState)(function(){return e.toHsva(r)}),c=l[0],i=l[1],s=(0,t.useRef)({color:r,hsva:c});return(0,t.useEffect)(function(){if(!e.equal(r,s.current.color)){var t=e.toHsva(r);s.current={hsva:t,color:r},i(t)}},[r,e]),(0,t.useEffect)(function(){var r;M(c,s.current.hsva)||e.equal(r=e.fromHsva(c),s.current.color)||(s.current={hsva:c,color:r},n(r))},[c,e,n]),[c,(0,t.useCallback)(function(e){i(function(r){return Object.assign({},r,e)})},[])]}var O,z="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,L=new Map,F=function(e){z(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!L.has(r)){var t=r.createElement("style");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',L.set(r,t);var o=O||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);o&&t.setAttribute("nonce",o),r.head.appendChild(t)}},[])},J=function(r){var a=r.className,l=r.colorModel,c=r.color,i=void 0===c?l.defaultColor:c,s=r.onChange,u=n(r,["className","colorModel","color","onChange"]),f=(0,t.useRef)(null);F(f);var d=I(l,i,s),v=d[0],h=d[1],b=g(["react-colorful",a]);return e(t).createElement("div",o({},u,{ref:f,className:b}),e(t).createElement(x,{hsva:v,onChange:h}),e(t).createElement(_,{hue:v.h,onChange:h,className:"react-colorful__last-control"}))},q={defaultColor:"000",toHsva:function(e){return P(b(e))},fromHsva:function(e){return S(R({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,r){return e.toLowerCase()===r.toLowerCase()||M(b(e),b(r))}},D=function(r){return e(t).createElement(J,o({},r,{colorModel:q}))},Z=function(r){var o=r.className,n=r.hsva,a=r.onChange,c={backgroundImage:"linear-gradient(90deg, "+E(Object.assign({},n,{a:0}))+", "+E(Object.assign({},n,{a:1}))+")"},i=g(["react-colorful__alpha",o]),s=v(100*n.a);return e(t).createElement("div",{className:i},e(t).createElement("div",{className:"react-colorful__alpha-gradient",style:c}),e(t).createElement(f,{onMove:function(e){a({a:e.left})},onKey:function(e){a({a:l(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},e(t).createElement(d,{className:"react-colorful__alpha-pointer",left:n.a,color:E(n)})))},G=function(r){var a=r.className,l=r.colorModel,c=r.color,i=void 0===c?l.defaultColor:c,s=r.onChange,u=n(r,["className","colorModel","color","onChange"]),f=(0,t.useRef)(null);F(f);var d=I(l,i,s),v=d[0],h=d[1],b=g(["react-colorful",a]);return e(t).createElement("div",o({},u,{ref:f,className:b}),e(t).createElement(x,{hsva:v,onChange:h}),e(t).createElement(_,{hue:v.h,onChange:h}),e(t).createElement(Z,{hsva:v,onChange:h,className:"react-colorful__last-control"}))},j={defaultColor:{h:0,s:0,l:0,a:1},toHsva:k,fromHsva:C,equal:M},K=function(r){return e(t).createElement(G,o({},r,{colorModel:j}))},T={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:m,fromHsva:E,equal:B},U=function(r){return e(t).createElement(G,o({},r,{colorModel:T}))},Q={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return k({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){var r;return{h:(r=C(e)).h,s:r.s,l:r.l}},equal:M},W=function(r){return e(t).createElement(J,o({},r,{colorModel:Q}))},Y={defaultColor:"hsl(0, 0%, 0%)",toHsva:m,fromHsva:H,equal:B},V=function(r){return e(t).createElement(J,o({},r,{colorModel:Y}))},$={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:w,equal:M},X=function(r){return e(t).createElement(G,o({},r,{colorModel:$}))},ee={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:y,fromHsva:function(e){var r=w(e);return"hsva("+r.h+", "+r.s+"%, "+r.v+"%, "+r.a+")"},equal:B},er=function(r){return e(t).createElement(G,o({},r,{colorModel:ee}))},et={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var r=w(e);return{h:r.h,s:r.s,v:r.v}},equal:M},eo=function(r){return e(t).createElement(J,o({},r,{colorModel:et}))},en={defaultColor:"hsv(0, 0%, 0%)",toHsva:y,fromHsva:function(e){var r=w(e);return"hsv("+r.h+", "+r.s+"%, "+r.v+"%)"},equal:B},ea=function(r){return e(t).createElement(J,o({},r,{colorModel:en}))},el={defaultColor:{r:0,g:0,b:0,a:1},toHsva:P,fromHsva:R,equal:M},ec=function(r){return e(t).createElement(G,o({},r,{colorModel:el}))},ei={defaultColor:"rgba(0, 0, 0, 1)",toHsva:N,fromHsva:function(e){var r=R(e);return"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")"},equal:B},es=function(r){return e(t).createElement(G,o({},r,{colorModel:ei}))},eu={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return P({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){var r;return{r:(r=R(e)).r,g:r.g,b:r.b}},equal:M},ef=function(r){return e(t).createElement(J,o({},r,{colorModel:eu}))},eg={defaultColor:"rgb(0, 0, 0)",toHsva:N,fromHsva:function(e){var r=R(e);return"rgb("+r.r+", "+r.g+", "+r.b+")"},equal:B},ed=function(r){return e(t).createElement(J,o({},r,{colorModel:eg}))},ev=e=>{let{onChange:r,color:o=""}=e,[n,a]=(0,t.useState)(()=>o),l=(0,t.useCallback)(e=>{let t=e.target.value;2===t.length?t.includes("#")||t.includes("rg")||t.includes("hs")||(t="#"+t):3!==t.length&&6!==t.length||t.includes("#")||t.includes("rg")||t.includes("hs")||(t="#"+t),t=t.toLowerCase();let o=new RegExp(/(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})\b|(?:rgb|hsl)a?\([^\)]*\)/);(""===t||o.test(t))&&r(t),a(t)},[r]);(0,t.useEffect)(()=>{a(o)},[o]);let c={colorPreviewWrapper:{backgroundImage:["RgbaColorPicker","RgbaStringColorPicker","HslaColorPicker","HslaStringColorPicker","HsvaColorPicker","HsvaStringColorPicker"].includes(e.pickerComponent)?'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==")':"none"},colorPreview:{backgroundColor:n}};return React.createElement("div",{className:"kirki-color-input-wrapper"},React.createElement("div",{className:"kirki-color-input-control"},!e.useHueMode&&React.createElement("div",{className:"kirki-color-preview-wrapper",style:c.colorPreviewWrapper},React.createElement("button",{type:"button",className:"kirki-color-preview",style:c.colorPreview})),React.createElement("input",{type:"text",value:n,className:"kirki-color-input",spellCheck:"false",onChange:l})))},eh=({colors:e,onClick:r})=>React.createElement("div",{className:"kirki-color-swatches"},e.map((e,t)=>{let o=e&&e.color?e.color:e;return React.createElement("button",{key:t.toString(),type:"button",className:"kirki-color-swatch","data-kirki-color":o,style:{backgroundColor:o},onClick:()=>r(o)})})),eb={grad:.9,turn:360,rad:360/(2*Math.PI)},ep=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},em=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t+0},ek=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e>r?e:r},eC=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},eH=function(e){return{r:ek(e.r,0,255),g:ek(e.g,0,255),b:ek(e.b,0,255),a:ek(e.a)}},eE=function(e){return{r:em(e.r),g:em(e.g),b:em(e.b),a:em(e.a,3)}},eR=/^#([0-9a-f]{3,8})$/i,ey=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},eN=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=Math.max(r,t,o),l=a-Math.min(r,t,o),c=l?a===r?(t-o)/l:a===t?2+(o-r)/l:4+(r-t)/l:0;return{h:60*(c<0?c+6:c),s:a?l/a*100:0,v:a/255*100,a:n}},eA=function(e){var r=e.h,t=e.s,o=e.v,n=e.a;r=r/360*6,t/=100,o/=100;var a=Math.floor(r),l=o*(1-t),c=o*(1-(r-a)*t),i=o*(1-(1-r+a)*t),s=a%6;return{r:255*[o,c,l,l,i,o][s],g:255*[i,o,o,c,l,l][s],b:255*[l,l,i,o,o,c][s],a:n}},eS=function(e){return{h:eC(e.h),s:ek(e.s,0,100),l:ek(e.l,0,100),a:ek(e.a)}},eP=function(e){return{h:em(e.h),s:em(e.s),l:em(e.l),a:em(e.a,3)}},ew=function(e){var r,t;return eA((r=e.s,{h:e.h,s:(r*=((t=e.l)<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}))},e_=function(e){var r,t,o,n;return{h:(r=eN(e)).h,s:(n=(200-(t=r.s))*(o=r.v)/100)>0&&n<200?t*o/100/(n<=100?n:200-n)*100:0,l:n/2,a:r.a}},ex=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eO=[[function(e){var r=eR.exec(e);return r?(e=r[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?em(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?em(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var r=eB.exec(e)||eI.exec(e);return r?r[2]!==r[4]||r[4]!==r[6]?null:eH({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):null},"rgb"],[function(e){var r,t,o=ex.exec(e)||eM.exec(e);return o?ew(eS({h:(r=o[1],void 0===(t=o[2])&&(t="deg"),Number(r)*(eb[t]||1)),s:Number(o[3]),l:Number(o[4]),a:void 0===o[5]?1:Number(o[5])/(o[6]?100:1)})):null},"hsl"]],ez=[[function(e){var r=e.r,t=e.g,o=e.b,n=e.a;return ep(r)&&ep(t)&&ep(o)?eH({r:Number(r),g:Number(t),b:Number(o),a:Number(void 0===n?1:n)}):null},"rgb"],[function(e){var r=e.h,t=e.s,o=e.l,n=e.a;return ep(r)&&ep(t)&&ep(o)?ew(eS({h:Number(r),s:Number(t),l:Number(o),a:Number(void 0===n?1:n)})):null},"hsl"],[function(e){var r,t=e.h,o=e.s,n=e.v,a=e.a;return ep(t)&&ep(o)&&ep(n)?eA({h:eC((r={h:Number(t),s:Number(o),v:Number(n),a:Number(void 0===a?1:a)}).h),s:ek(r.s,0,100),v:ek(r.v,0,100),a:ek(r.a)}):null},"hsv"]],eL=function(e,r){for(var t=0;t<r.length;t++){var o=r[t][0](e);if(o)return[o,r[t][1]]}return[null,void 0]},eF=function(e,r){var t=e_(e);return{h:t.h,s:ek(t.s+100*r,0,100),l:t.l,a:t.a}},eJ=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},eq=function(e,r){var t=e_(e);return{h:t.h,s:t.s,l:ek(t.l+100*r,0,100),a:t.a}},eD=function(){function e(e){this.parsed=("string"==typeof e?eL(e.trim(),eO):"object"==typeof e&&null!==e?eL(e,ez):[null,void 0])[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return em(eJ(this.rgba),2)},e.prototype.isDark=function(){return .5>eJ(this.rgba)},e.prototype.isLight=function(){return eJ(this.rgba)>=.5},e.prototype.toHex=function(){var e,r,t,o,n,a;return r=(e=eE(this.rgba)).r,t=e.g,o=e.b,a=(n=e.a)<1?ey(em(255*n)):"","#"+ey(r)+ey(t)+ey(o)+a},e.prototype.toRgb=function(){return eE(this.rgba)},e.prototype.toRgbString=function(){var e,r,t,o,n;return r=(e=eE(this.rgba)).r,t=e.g,o=e.b,(n=e.a)<1?"rgba("+r+", "+t+", "+o+", "+n+")":"rgb("+r+", "+t+", "+o+")"},e.prototype.toHsl=function(){return eP(e_(this.rgba))},e.prototype.toHslString=function(){var e,r,t,o,n;return r=(e=eP(e_(this.rgba))).h,t=e.s,o=e.l,(n=e.a)<1?"hsla("+r+", "+t+"%, "+o+"%, "+n+")":"hsl("+r+", "+t+"%, "+o+"%)"},e.prototype.toHsv=function(){var e;return{h:em((e=eN(this.rgba)).h),s:em(e.s),v:em(e.v),a:em(e.a,3)}},e.prototype.invert=function(){var e;return eZ({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),eZ(eF(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),eZ(eF(this.rgba,-e))},e.prototype.grayscale=function(){return eZ(eF(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),eZ(eq(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),eZ(eq(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var r;return"number"==typeof e?eZ({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):em(this.rgba.a,3)},e.prototype.hue=function(e){var r=e_(this.rgba);return"number"==typeof e?eZ({h:e,s:r.s,l:r.l,a:r.a}):em(r.h)},e.prototype.isEqual=function(e){return this.toHex()===eZ(e).toHex()},e}(),eZ=function(e){return e instanceof eD?e:new eD(e)},eG=e=>{let{color:r=""}=e,[o,n]=(0,t.useState)(()=>r);(0,t.useEffect)(()=>{n(r)},[r]);let a={triggerButton:{backgroundImage:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==")'},colorPreview:{backgroundColor:o||"transparent"}};return React.createElement("div",{className:"kirki-trigger-circle-wrapper"},React.createElement("button",{type:"button",className:"kirki-trigger-circle",onClick:e.togglePickerHandler,style:a.triggerButton},React.createElement("div",{className:"kirki-color-preview",style:a.colorPreview})))},ej=e=>{var r;let o,n,{control:a,customizerSetting:l,useHueMode:c,pickerComponent:i,choices:s}=e,u=()=>c?0:"#000000",f=e=>(e=(e=e||u())<0?0:e)>360?360:e,g=e=>""===e?"":c?f(e):((e,r,t)=>{let o,n,a;switch(r){case"HexColorPicker":a="string"==typeof e&&e.includes("#")?e:eZ(e).toHex();break;case"RgbColorPicker":a="string"==typeof e&&e.includes("rgb(")?e:eZ(e).toRgbString();break;case"RgbStringColorPicker":a="string"==typeof e&&e.includes("rgba")?e:eZ(e).toRgbString();break;case"RgbaColorPicker":eZ(e).toRgb().a<1?a="string"==typeof e&&e.includes("rgba")?e:eZ(e).toRgbString():(a=eZ(e).toRgbString()).includes("rgb")&&!a.includes("rgba")&&(a=(a=a.replace("rgb","rgba")).replace(")",", 1)"));break;case"RgbaStringColorPicker":1!=eZ(e).toRgb().a||t?(a=eZ(e).toRgbString()).includes("rgb")&&!a.includes("rgba")&&(a=(a=a.replace("rgb","rgba")).replace(")",", 1)")):a="string"==typeof e&&e.includes("#")?e:eZ(e).toHex();break;case"HslColorPicker":case"HslStringColorPicker":a="string"==typeof e&&e.includes("hsl(")?e:eZ(e).toHslString();break;case"HslaColorPicker":case"HslaStringColorPicker":(a=eZ(e).toHslString()).includes("hsl")&&!a.includes("hsla")&&(a=(a=a.replace("hsl","hsla")).replace(")",", 1)"));break;case"HsvColorPicker":case"HsvStringColorPicker":a="hsv("+(o=eZ(e).toHsv()).h+", "+o.s+"%, "+o.v+"%)";break;case"HsvaColorPicker":case"HsvaStringColorPicker":a="hsva("+(n=eZ(e).toHsv()).h+", "+n.s+"%, "+n.v+"%, "+n.a+")";break;default:a=eZ(e).toHex()}return a})(e,i,s.formComponent).replace(";",""),d=e=>(e=e||u(),c?{h:e,s:100,l:50}:((e,r)=>{let t;switch(r){case"HexColorPicker":default:t=eZ(e).toHex();break;case"RgbColorPicker":t=eZ(e).toRgb(),delete t.a;break;case"RgbStringColorPicker":t=eZ(e).toRgbString();break;case"RgbaColorPicker":t=eZ(e).toRgb();break;case"RgbaStringColorPicker":(t=eZ(e).toRgbString()).includes("rgb")&&!t.includes("rgba")&&(t=(t=t.replace("rgb","rgba")).replace(")",", 1)"));break;case"HslColorPicker":t=eZ(e).toHsl(),delete t.a;break;case"HslStringColorPicker":t=eZ(e).toHslString();break;case"HslaColorPicker":t=eZ(e).toHsl();break;case"HslaStringColorPicker":(t=eZ(e).toHslString()).includes("hsl")&&!t.includes("hsla")&&(t=(t=t.replace("hsl","hsla")).replace(")",", 1)"));break;case"HsvColorPicker":t=eZ(e).toHsv(),delete t.a;break;case"HsvStringColorPicker":let o=eZ(e).toHsv();t="hsv("+o.h+", "+o.s+"%, "+o.v+"%)";break;case"HsvaColorPicker":t=eZ(e).toHsv();break;case"HsvaStringColorPicker":let n=eZ(e).toHsv();t="hsva("+n.h+", "+n.s+"%, "+n.v+"%, "+n.a+")"}return t})(e,i)),[v,h]=(0,t.useState)(()=>g(e.value)),[b,p]=(0,t.useState)(()=>d(e.value)),m=v,k=b;a.updateComponentState=e=>{let r=g(e);("string"==typeof r||c?r!==v:JSON.stringify(r)!==JSON.stringify(m))&&h(r);let t=d(e);("string"==typeof t||c?t!==b:JSON.stringify(t)!==JSON.stringify(k))&&p(t)};let C=e=>{if(c)e=f(e=e.h||0===e.h?e.h:e);else{var r;e=""===(r=e)?"":((e,r,t)=>{let o,n,a;switch(r){case"HexColorPicker":default:a="string"==typeof e&&e.includes("#")?e:eZ(e).toHex();break;case"RgbColorPicker":a=eZ(e).toRgb(),delete a.a;break;case"RgbStringColorPicker":a="string"==typeof e&&e.includes("rgb(")?e:eZ(e).toRgbString();break;case"RgbaColorPicker":a=eZ(e).toRgb();break;case"RgbaStringColorPicker":eZ(e).toRgb().a<1?a="string"==typeof e&&e.includes("rgba")?e:eZ(e).toRgbString():t?(a=eZ(e).toRgbString()).includes("rgb")&&!a.includes("rgba")&&(a=(a=a.replace("rgb","rgba")).replace(")",", 1)")):a="string"==typeof e&&e.includes("#")?e:eZ(e).toHex();break;case"HslColorPicker":a=eZ(e).toHsl(),delete a.a;break;case"HslStringColorPicker":a="string"==typeof e&&e.includes("hsl(")?e:eZ(e).toHslString();break;case"HslaColorPicker":a=eZ(e).toHsl();break;case"HslaStringColorPicker":(a=eZ(e).toHslString()).includes("hsl")&&!a.includes("hsla")&&(a=(a=a.replace("hsl","hsla")).replace(")",", 1)"));break;case"HsvColorPicker":a=eZ(e).toHsv(),delete a.a;break;case"HsvStringColorPicker":a="hsv("+(o=eZ(e).toHsv()).h+", "+o.s+"%, "+o.v+"%)";break;case"HsvaColorPicker":a=eZ(e).toHsv();break;case"HsvaStringColorPicker":a="hsva("+(n=eZ(e).toHsv()).h+", "+n.s+"%, "+n.v+"%, "+n.a+")"}return a})(r,i,s.formComponent)}l.set(e)},H=""!==e.default&&void 0!==e.default?e.default:e.value,E=React.createElement("span",{className:"customize-control-title",dangerouslySetInnerHTML:{__html:e.label}}),R=React.createElement("span",{className:"description customize-control-description",dangerouslySetInnerHTML:{__html:e.description}});E=React.createElement("label",{className:"kirki-control-label"},e.label?E:"",e.description?R:""),E=e.label||e.description?E:"";let y=(0,t.useRef)(null),N=(0,t.useRef)(null),A=(0,t.useRef)(null),[S,P]=(0,t.useState)(!1),w="default"!==s.labelStyle,[_,x]=(0,t.useState)({}),M=()=>{let e={};if(!w)return e;let r=window.getComputedStyle(a.container[0].parentNode).paddingLeft;return r=2*parseInt(r,10),e.width=a.container[0].parentNode.getBoundingClientRect().width-r,e.left=-((a.container[0].offsetLeft-9)*1)+"px",e},B=()=>{4===v.length&&v.includes("#")&&h(eZ(v).toHex())},I=()=>{S&&(P(!1),setTimeout(B,200))};switch(i){case"HexColorPicker":default:o=D;break;case"RgbColorPicker":o=ef;break;case"RgbStringColorPicker":o=ed;break;case"RgbaColorPicker":o=ec;break;case"RgbaStringColorPicker":o=es;break;case"HueColorPicker":case"HslColorPicker":o=W;break;case"HslStringColorPicker":o=V;break;case"HslaColorPicker":o=K;break;case"HslaStringColorPicker":o=U;break;case"HsvColorPicker":o=eo;break;case"HsvStringColorPicker":o=ea;break;case"HsvaColorPicker":o=X;break;case"HsvaStringColorPicker":o=er}if(r=()=>{x(M())},(0,t.useEffect)(()=>{let e=e=>{r()};return window.addEventListener("resize",e,!0),()=>{window.removeEventListener("resize",e,!0)}},[r]),(0,t.useEffect)(()=>{let e=e=>{!y.current||y.current.contains(e.target)||I()};return document.addEventListener("focus",e,!0),()=>{document.removeEventListener("focus",e,!0)}},[y,I]),(0,t.useEffect)(()=>{let e=!1,r=!1,t=t=>{!e||r||!A.current||A.current.contains(t.target)||!N.current||N.current.contains(t.target)||I()},o=t=>{e=A.current&&N.current,r=A.current&&A.current.contains(t.target)||N.current&&N.current.contains(t.target)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("click",t),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("click",t)}},[A,N,I]),jQuery.wp&&jQuery.wp.wpColorPicker){let e=jQuery.wp.wpColorPicker.prototype.options.palettes;if(Array.isArray(e)){if(e.length<8)for(let r=e.length;r<=8;r++)e.push(s.swatches[r]);s.swatches=e}}let O=React.createElement(React.Fragment,null,E,React.createElement("div",{className:"customize-control-notifications-container",ref:e.setNotificationContainer})),z=c?"kirki-control-form use-hue-mode":"kirki-control-form";z+=" has-"+s.labelStyle+"-label-style";let L=S?i+" colorPickerContainer is-open":i+" colorPickerContainer",F=React.createElement(React.Fragment,null,React.createElement("button",{type:"button",ref:A,className:"kirki-control-reset",onClick:()=>{H||(m="",k=""),C(H)},style:{display:S?"flex":"none"}},React.createElement("i",{className:"dashicons dashicons-image-rotate"})),React.createElement(eG,{pickerComponent:i,useHueMode:c,color:c?eZ({h:v,s:100,l:50}).toHex():v,isPickerOpen:S,togglePickerHandler:()=>{S?I():S||(x(M()),B(),P(!0))}}));switch(s.labelStyle){case"tooltip":n=React.createElement(React.Fragment,null,F,!S&&React.createElement("div",{className:"kirki-label-tooltip"},O));break;case"top":n=React.createElement(React.Fragment,null,O,F);break;default:n=React.createElement(React.Fragment,null,React.createElement("div",{className:"kirki-control-cols"},React.createElement("div",{className:"kirki-control-left-col"},O),React.createElement("div",{className:"kirki-control-right-col"},F)))}return React.createElement(React.Fragment,null,React.createElement("div",{className:z,ref:y,tabIndex:"1"},n,React.createElement("div",{ref:N,className:L,style:_},!c&&React.createElement(eh,{colors:s.swatches,onClick:e=>{C(e)}}),React.createElement(o,{color:b,onChange:r=>{e.onChange&&e.onChange(r),k=r,C(r)}}),React.createElement(ev,{pickerComponent:i,useHueMode:c,color:v,onChange:e=>{m=e,C(e)}}))))};function eK(){return(eK=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(null,arguments)}let eT=wp.customize.Control.extend({initialize:function(e,r){let t=this;t.setNotificationContainer=t.setNotificationContainer.bind(t),wp.customize.Control.prototype.initialize.call(t,e,r),wp.customize.control.bind("removed",function e(r){t===r&&(t.destroy(),t.container.remove(),wp.customize.control.unbind("removed",e))})},setNotificationContainer:function(e){this.notifications.container=e,this.notifications.render()},renderContent:function(){let t,o="hue"===this.params.mode,n=this.params.choices;t=n.formComponent?n.formComponent:n.alpha?"RgbaStringColorPicker":"HexColorPicker",t=o?"HueColorPicker":t;let a=React.createElement(ej,eK({},this.params,{control:this,customizerSetting:this.setting,useHueMode:o,pickerComponent:t,value:this.params.value,setNotificationContainer:this.setNotificationContainer}));e(r).render(a,this.container[0])},ready:function(){let e=this;e.setting.bind(r=>{e.updateComponentState(r)})},updateComponentState:()=>{},destroy:function(){e(r).unmountComponentAtNode(this.container[0]),wp.customize.Control.prototype.destroy&&wp.customize.Control.prototype.destroy.call(this)}});wp.customize.controlConstructor["kirki-react-colorful"]=eT}();