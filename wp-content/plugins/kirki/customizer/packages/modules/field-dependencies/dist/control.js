!function(){var e={dependencyControls:{},init:function(){var e=this;_.each(window.kirkiControlDependencies,function(t,i){var n=wp.customize.control(i);n&&(t=e.addSettingLink(t),wp.customize.control(i).params.required=t,e.showKirkiControl(n))}),_.each(e.dependencyControls,function(t,i){_.each(t.childrens,function(i){wp.customize(t.settingLink,function(t){wp.customize.control(i,function(n){var r,o;o=function(){return e.showKirkiControl(wp.customize.control(i))},(r=function(){n.active.set(o())})(),t.bind(r),n.active.validate=o})})})})},getSettingLink:function(e){var t=document.querySelector('[data-kirki-setting="'+e+'"]'),i=e;return t&&e!==t.dataset.kirkiSettingLink&&(i=t.dataset.kirkiSettingLink),i},addSettingLink:function(e){let t=this;return e.forEach(function(i,n){i.setting?e[n].settingLink=t.getSettingLink(i.setting):i.length&&(e[n]=t.addSettingLink(e[n]))}),e},showKirkiControl:function(e){let t,i=!0;if(_.isString(e)&&(e=wp.customize.control(e)),void 0===e||e.params&&_.isEmpty(e.params.required))return!0;for(t=0;t<e.params.required.length;t++)this.checkCondition(e.params.required[t],e,"AND")||(i=!1);return i},checkCondition:function(e,t,i){let n,r,o,s="AND"===i?"OR":"AND";if(void 0!==e[0]&&void 0===e.setting){for(o=0,n=[];o<e.length;o++)n.push(this.checkCondition(e[o],t,s));return"OR"===s?-1!==n.indexOf(!0):-1===n.indexOf(!1)}return void 0===wp.customize.control(e.setting)||(this.dependencyControls[e.setting]||(this.dependencyControls[e.setting]={settingLink:e.settingLink,childrens:[]}),this.dependencyControls[e.setting].childrens.includes(t.id)||this.dependencyControls[e.setting].childrens.push(t.id),e.settingLink||(console.log(this.dependencyControls),console.log("--------")),r=wp.customize(e.settingLink).get(),wp.customize.control(e.setting).setting&&(r=wp.customize.control(e.setting).setting._value),this.evaluate(e.value,r,e.operator,e.choice))},evaluate:function(e,t,i,n){var r=!1;if(n&&"object"==typeof t&&(t=t[n]),"==="===i)return e===t;if("=="===i||"="===i||"equals"===i||"equal"===i)return e==t;if("!=="===i)return e!==t;if("!="===i||"not equal"===i)return e!=t;if(">="===i||"greater or equal"===i||"equal or greater"===i)return t>=e;if("<="===i||"smaller or equal"===i||"equal or smaller"===i)return t<=e;if(">"===i||"greater"===i)return t>e;if("<"===i||"smaller"===i)return t<e;if("contains"===i||"in"===i){if(_.isArray(e)&&_.isArray(t))return _.each(t,function(t){if(e.includes(t))return r=!0,!1}),r;if(_.isArray(t))return _.each(t,function(t){t==e&&(r=!0)}),r;if(_.isObject(t))return _.isUndefined(t[e])||(r=!0),_.each(t,function(t){e===t&&(r=!0)}),r;if(_.isString(t))return _.isString(e)?-1<e.indexOf(t)&&-1<t.indexOf(e):-1<e.indexOf(t)}return"does not contain"===i||"not in"===i?!this.evaluate(e,t,"contains",n):e==t}},t={repeatersControls:{},repeatersActiveCallbackFields:{},listenTo:{},init:function(){var e=this;_.each(window.kirkiRepeaterControlsAvailable,function(t,i){var n=wp.customize.control(i);n&&n.params&&n.params.type&&"repeater"===n.params.type&&(e.repeatersControls[n.id]=e.repeatersControls[n.id]||[],e.repeatersControls[n.id]={user_entries:JSON.parse(decodeURI(n.setting.get()))})}),_.each(e.repeatersControls,function(t,i){var n=wp.customize.control(i),r=_.isUndefined(t)||_.isUndefined(t.user_entries)||_.isEmpty(t.user_entries)?null:t.user_entries;_.isUndefined(n)||_.isNull(r)||(_.each(r,function(t,i){_.each(t,function(i,r){if(!_.isUndefined(n.params.fields[r])){var o=n.params.fields[r];e.showRepeaterControl(n.id,o,t)}})}),e.repeatersActiveCallbackFields[n.id]=e.repeatersActiveCallbackFields[n.id]||[],e.repeatersActiveCallbackFields[n.id]=e.listenTo,e.listenTo={})}),_.each(e.repeatersActiveCallbackFields,function(t,i){if(objRepeaterControl=wp.customize.control(i),!_.isUndefined(objRepeaterControl)){var n=JSON.parse(decodeURI(objRepeaterControl.setting.get())),r=objRepeaterControl.params.fields;_.each(n,function(n,o){_.each(t,function(t,s){_.each(t,function(t){var s,a,l=r[t];(a=(s=document.querySelector(objRepeaterControl.selector))?s.querySelector('[data-row="'+o+'"] .repeater-field-'+t):null)&&(e.showRepeaterControl(i,l,n)?(a.classList.remove("inactive"),a.classList.add("active"),function(e){if(e){e.style.display="";var t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition="height 200ms ease-in-out",e.offsetHeight,e.style.height=t+"px",setTimeout(function(){e.style.height="",e.style.overflow="",e.style.transition=""},200)}}(a)):(a.classList.remove("active"),a.classList.add("inactive"),function(e){if(e){var t=e.scrollHeight;e.style.height=t+"px",e.style.overflow="hidden",e.style.transition="height 200ms ease-in-out",e.offsetHeight,e.style.height="0px",setTimeout(function(){e.style.display="none",e.style.height="",e.style.overflow="",e.style.transition=""},200)}}(a)))})})})}})},showRepeaterControl:function(e,t,i){var n,r=!0,o=!_.isUndefined(t)&&!_.isUndefined(t.id)&&t.id&&t.type&&!_.isEmpty(t.type);if(void 0===t||void 0===t.active_callback||t.active_callback&&_.isEmpty(t.active_callback))return!0;for(n=0;n<t.active_callback.length;n++)this.checkCondition(e,t.active_callback[n],t,i,o,"AND")||(r=!1);return r},checkCondition:function(e,t,i,n,r,o){var s,a,l,c="AND"===o?"OR":"AND";if(void 0!==t[0]&&void 0===t.setting){for(l=0,s=[];l<t.length;l++)s.push(this.checkCondition(e,t[l],i,n,r,c));return"OR"===c?-1!==s.indexOf(!0):-1===s.indexOf(!1)}return!t.setting in n||(a=n[t.setting],this.listenTo[t.setting]=this.listenTo[t.setting]||[],-1===this.listenTo[t.setting].indexOf(i.id)&&this.listenTo[t.setting].push(i.id),this.evaluate(t.value,a,t.operator))},evaluate:function(e,t,i){var n=!1;if("==="===i)return e===t;if("=="===i||"="===i||"equals"===i||"equal"===i)return e==t;if("!=="===i)return e!==t;if("!="===i||"not equal"===i)return e!=t;if(">="===i||"greater or equal"===i||"equal or greater"===i)return t>=e;if("<="===i||"smaller or equal"===i||"equal or smaller"===i)return t<=e;if(">"===i||"greater"===i)return t>e;if("<"===i||"smaller"===i)return t<e;if("contains"===i||"in"===i){if(_.isArray(e)&&_.isArray(t))return _.each(t,function(t){if(e.includes(t))return n=!0,!1}),n;if(_.isArray(t))return _.each(t,function(t){t==e&&(n=!0)}),n;if(_.isObject(t))return _.isUndefined(t[e])||(n=!0),_.each(t,function(t){e===t&&(n=!0)}),n;if(_.isString(t))return _.isString(e)?-1<e.indexOf(t)&&-1<t.indexOf(e):-1<e.indexOf(t)}return e==t}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e.init(),t.init()}):(e.init(),t.init())}();