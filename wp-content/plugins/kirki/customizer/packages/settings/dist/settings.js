!function(){function e(e,t,a,s){Object.defineProperty(e,t,{get:a,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},i=t.parcelRequired478;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},t.parcelRequired478=i),(0,i.register)("6LTuJ",function(t,a){e(t.exports,"emptyElement",function(){return s}),e(t.exports,"getClosest",function(){return i}),e(t.exports,"startLoading",function(){return r}),e(t.exports,"stopLoading",function(){return n});let s=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},i=(e,t,a)=>{if(e.matches(t))return e;if("BODY"!==e.tagName&&"HTML"!==e.tagName){a=a||20;for(let s=0;s<a;s++){let a=e.parentNode;if(!a||"BODY"===a.tagName||"HTML"===a.tagName)break;if(a.matches(t))return a;e=a}}},r=e=>{e.classList.add("is-loading")},n=e=>{e.classList.remove("is-loading")}});var r=i("6LTuJ");function n(e){document.querySelectorAll(".heatbox-panel-wrapper .heatbox-admin-panel").forEach(e=>{e.style.display="none"});let t=document.querySelector(`.heatbox-panel-wrapper .kirki-${e}-panel`);t&&(t.style.display="block")}!function(){let e;(e=document.querySelectorAll(".heatbox-tab-nav-item")).forEach(t=>{t.addEventListener("click",t=>{let a=t.currentTarget;e.forEach(e=>e.classList.remove("active")),a.classList.add("active");let s=a.querySelector("a");s&&""!==s.hash&&n(s.hash.substring(1))})}),window.addEventListener("load",()=>{let t=window.location.hash.substring(1);if(!t){let e=document.querySelector(".heatbox-tab-nav-item.active");e&&e.dataset.tab&&(t=e.dataset.tab),t=t||"settings"}e.forEach(e=>e.classList.remove("active"));let a=document.querySelector(`.heatbox-tab-nav-item.kirki-${t}-panel`);a&&a.classList.add("active"),n(t)}),function(){let e=document.querySelector(".kirki-settings-page");if(!e)return;let t=e.querySelector(".installation-progress-metabox");if(!t)return;let a=t.querySelector(".installation-progress-list");if(!a)return;let s=!1,i=kirkiSettings.recommendedPlugins.udb;function n(e){s||(s=!0,o("Activating Ultimate Dashboard","loading"),fetch(i.activationUrl,{method:"GET",credentials:"same-origin"}).then(e=>{if(!e.ok)throw Error(e.statusText);return e}).then(()=>{l("Ultimate Dashboard has been activated successfully.","done"),o("All done! Redirecting...","loading"),c(e,i.redirectUrl)}).catch(t=>{t&&t.errorCode&&t.errorMessage?l(t.errorMessage,"failed"):t&&t.responseJSON&&t.responseJSON.data?l(t.responseJSON.data,"failed"):l("Something went wrong. Please try again later.","failed"),c(e,"")}))}function o(e,t){if(!a)return;let s=document.createElement("li");s.className="installation-progress","done"===t?s.classList.add("is-done"):"failed"===t?s.classList.add("is-failed"):s.classList.add("is-loading");let i=document.createElement("div");i.className="progress-icon",s.appendChild(i);let r=document.createElement("div");r.className="progress-text",r.innerHTML=e,s.appendChild(r),a.appendChild(s)}function l(e,t){if(!a)return;let s=a.querySelector(".installation-progress:last-child");if(s&&("done"===t?(s.classList.remove("is-loading"),s.classList.add("is-done")):"failed"===t?(s.classList.remove("is-loading"),s.classList.add("is-failed")):(s.classList.remove("is-done"),s.classList.remove("is-failed"),s.classList.add("is-loading")),e)){let t=s.querySelector(".progress-text");if(!t)return;t.innerHTML=e}}function d(e,t){let a=document.querySelectorAll(".kirki-install-udb");a.length&&a.forEach(a=>{"disable"===e&&t&&a===t||(a.tagName.toLowerCase(),"disable"===e?a.classList.add("is-loading"):a.classList.remove("is-loading"))})}function c(e,t){t&&window.setTimeout(()=>{window.location.replace(t)},1e3),(0,r.stopLoading)(e),s=!1,d("enable",e)}document.addEventListener("click",function(u){let f=(0,r.getClosest)(u.target,".kirki-install-udb");f&&(u.preventDefault(),function(u){var f;if(!e||s)return;f=u,t&&a&&((0,r.emptyElement)(a),t.classList.remove("is-hidden")),s=!0,d("disable",f),(0,r.startLoading)(f),o("Preparing...","loading");let g=e.dataset.setupUdbNonce?e.dataset.setupUdbNonce:"",m=new URLSearchParams;m.append("action","kirki_prepare_install_udb"),m.append("nonce",g),fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:m.toString(),credentials:"same-origin"}).then(e=>e.json()).then(e=>{var t;if(!e.success){l(e.data,"failed"),c(u,"");return}if(e.data.finished){l("Ultimate Dashboard has already been installed.","done"),o(e.data.message,"done"),o("All done! Redirecting...","loading"),c(u,i.redirectUrl);return}l(e.data.message,"done"),s=!1,t=u,s||(s=!0,o("Installing Ultimate Dashboard","loading"),wp.updates.installPlugin({slug:i.slug,success:function(){l("Ultimate Dashboard has been installed successfully","done"),s=!1,n(t)},error:function(e){let a=!0;e.errorCode&&e.errorMessage?"folder_exists"===e.errorCode?(l("Ultimate Dashboard has already been installed.","done"),s=!1,a=!1,n(t)):l(e.errorMessage,"failed"):e.responseJSON&&e.responseJSON.data?l(e.responseJSON.data,"failed"):l("Something went wrong. Please try again later.","failed"),a&&c(t,"")}}))}).catch(e=>{let t="Something went wrong. Please try again later.";e&&e.message&&(t=e.message),l(t,"failed"),c(u,"")})}(f))})}();let t=document.querySelector(".kirki-clear-font-cache-metabox");if(!t)return;var a=t.querySelector(".submission-status");if(!a)return;let s=t.querySelector(".kirki-clear-font-cache");if(!s)return;s.addEventListener("click",l);let i=!1,o=0;async function l(e){if(i)return;i=!0,this.classList.add("is-loading"),o&&window.clearTimeout(o),o=0;let t=new URLSearchParams;t.append("action","kirki_clear_font_cache"),t.append("nonce",this.dataset.nonce||"");try{let e=await fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:t.toString(),credentials:"same-origin"}),a=await e.json();d(a.success?"success":"error",a.data)}catch(e){d("error","Something went wrong.")}finally{i=!1,this.classList.remove("is-loading"),o=window.setTimeout(function(){a&&(a.textContent="",a.classList.remove("is-success"),a.classList.remove("is-error"),a.classList.add("is-hidden"))},4e3)}}function d(e,t){a&&(a.textContent=t,a.classList.add("success"===e?"is-success":"is-error"),a.classList.remove("is-hidden"))}}()}();