{"version":3,"file":"js/commands/scf-custom-post-types.js","mappings":"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","sources":["webpack:///./node_modules/@wordpress/icons/build-module/library/edit.js","webpack:///./node_modules/@wordpress/icons/build-module/library/page.js","webpack:///./node_modules/@wordpress/icons/build-module/library/pencil.js","webpack:///./node_modules/@wordpress/icons/build-module/library/plus.js","webpack:///external window [\"wp\",\"components\"]","webpack:///external window [\"wp\",\"data\"]","webpack:///external window [\"wp\",\"element\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///external window [\"wp\",\"primitives\"]","webpack:///external window [\"wp\",\"url\"]","webpack:///external window \"ReactJSXRuntime\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./assets/src/js/commands/custom-post-type-commands.js"],"sourcesContent":["/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n//# sourceMappingURL=edit.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst page = /*#__PURE__*/_jsxs(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: [/*#__PURE__*/_jsx(Path, {\n    d: \"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\"\n  }), /*#__PURE__*/_jsx(Path, {\n    d: \"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\"\n  })]\n});\nexport default page;\n//# sourceMappingURL=page.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst pencil = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\"\n  })\n});\nexport default pencil;\n//# sourceMappingURL=pencil.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst plus = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\"\n  })\n});\nexport default plus;\n//# sourceMappingURL=plus.js.map","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Custom Post Type Commands\n *\n * Dynamic commands for user-created custom post types in Secure Custom Fields.\n * This file generates navigation commands for each registered post type that\n * the current user has access to, creating \"View All\", \"Add New\", and \"Edit\" commands.\n *\n * Post type data is provided via acf.data.customPostTypes, which is populated\n * by the PHP side after capability checks ensure the user has appropriate access.\n *\n * @since SCF 6.5.0\n */\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createElement } from '@wordpress/element';\nimport { Icon } from '@wordpress/components';\nimport { dispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\nimport { page, plus, edit } from '@wordpress/icons';\n\n/**\n * Register custom post type commands\n */\nconst registerPostTypeCommands = () => {\n\t// Only proceed when WordPress commands API and there are custom post types accessible\n\tif (\n\t\t! dispatch( 'core/commands' ) ||\n\t\t! window.acf?.data?.customPostTypes?.length\n\t) {\n\t\treturn;\n\t}\n\n\tconst commandStore = dispatch( 'core/commands' );\n\tconst adminUrl = window.acf.data.admin_url || '';\n\tconst postTypes = window.acf.data.customPostTypes;\n\n\t// WordPress 6.9+ adds Command Palette commands for all admin menu items.\n\tconst wpVersion = window.acf.data.wp_version;\n\tconst isWp69Plus =\n\t\twpVersion.localeCompare( '6.9', undefined, { numeric: true } ) >= 0;\n\n\tpostTypes.forEach( ( postType ) => {\n\t\t// Skip invalid post types or those missing required labels\n\t\tif (\n\t\t\t! postType?.name ||\n\t\t\t! postType?.all_items ||\n\t\t\t! postType?.add_new_item\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Navigation commands are already included in WP 6.9+.\n\t\tif ( ! isWp69Plus ) {\n\t\t\t// Register \"View All\" command for this post type\n\t\t\tcommandStore.registerCommand( {\n\t\t\t\tname: `scf/cpt-${ postType.name }`,\n\t\t\t\tlabel: postType.all_items,\n\t\t\t\ticon: createElement( Icon, { icon: page } ),\n\t\t\t\tcontext: 'admin',\n\t\t\t\tdescription: postType.all_items,\n\t\t\t\tkeywords: [\n\t\t\t\t\t'post type',\n\t\t\t\t\t'content',\n\t\t\t\t\t'cpt',\n\t\t\t\t\tpostType.name,\n\t\t\t\t\tpostType.label,\n\t\t\t\t].filter( Boolean ),\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\tdocument.location = addQueryArgs( adminUrl + 'edit.php', {\n\t\t\t\t\t\tpost_type: postType.name,\n\t\t\t\t\t} );\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\n\t\t\t// Register \"Add New\" command for this post type\n\t\t\tcommandStore.registerCommand( {\n\t\t\t\tname: `scf/new-${ postType.name }`,\n\t\t\t\tlabel: postType.add_new_item,\n\t\t\t\ticon: createElement( Icon, { icon: plus } ),\n\t\t\t\tcontext: 'admin',\n\t\t\t\tdescription: postType.add_new_item,\n\t\t\t\tkeywords: [\n\t\t\t\t\t'add',\n\t\t\t\t\t'new',\n\t\t\t\t\t'create',\n\t\t\t\t\t'content',\n\t\t\t\t\tpostType.name,\n\t\t\t\t\tpostType.label,\n\t\t\t\t],\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\tdocument.location = addQueryArgs(\n\t\t\t\t\t\tadminUrl + 'post-new.php',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpost_type: postType.name,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\t// Register \"Edit Post Type\" command\n\t\tcommandStore.registerCommand( {\n\t\t\tname: `scf/edit-${ postType.name }`,\n\t\t\tlabel: sprintf(\n\t\t\t\t/* translators: %s: post type label */\n\t\t\t\t__( 'Edit post type: %s', 'secure-custom-fields' ),\n\t\t\t\tpostType.label\n\t\t\t),\n\t\t\ticon: createElement( Icon, { icon: edit } ),\n\t\t\tcontext: 'admin',\n\t\t\tdescription: sprintf(\n\t\t\t\t/* translators: %s: post type label */\n\t\t\t\t__( 'Edit the %s post type settings', 'secure-custom-fields' ),\n\t\t\t\tpostType.label\n\t\t\t),\n\t\t\tkeywords: [\n\t\t\t\t'edit',\n\t\t\t\t'modify',\n\t\t\t\t'post type',\n\t\t\t\t'cpt',\n\t\t\t\t'settings',\n\t\t\t\tpostType.name,\n\t\t\t\tpostType.label,\n\t\t\t],\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tdocument.location = addQueryArgs( adminUrl + 'post.php', {\n\t\t\t\t\tpost: postType.id,\n\t\t\t\t\taction: 'edit',\n\t\t\t\t} );\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\t} );\n};\n\nif ( 'requestIdleCallback' in window ) {\n\twindow.requestIdleCallback( registerPostTypeCommands, { timeout: 500 } );\n} else {\n\tsetTimeout( registerPostTypeCommands, 500 );\n}\n"],"names":["__","sprintf","createElement","Icon","dispatch","addQueryArgs","page","plus","edit","registerPostTypeCommands","window","acf","data","customPostTypes","length","commandStore","adminUrl","admin_url","postTypes","wpVersion","wp_version","isWp69Plus","localeCompare","undefined","numeric","forEach","postType","name","all_items","add_new_item","registerCommand","label","icon","context","description","keywords","filter","Boolean","callback","close","document","location","post_type","post","id","action","requestIdleCallback","timeout","setTimeout"],"sourceRoot":""}