{"version":3,"file":"js/scf-bindings.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAC0D;AACb;AACmB;AAI/B;AAKF;AACM;;AAErC;AACA;AACA;AAC6C;AAM5B;AAMA;;AAEjB;AACA;AACA;AACA;AACA;AAJA;AAKA,MAAM2B,kBAAkB,GAAGxB,8EAA0B,CAAIyB,SAAS,IAAM;EACvE,OAASC,KAAK,IAAM;IACnB,MAAMC,kBAAkB,GAAGjB,6DAAqB,CAAEgB,KAAK,CAACE,IAAK,CAAC;IAC9D,MAAM;MAAEC,mBAAmB;MAAEC;IAAuB,CAAC,GACpD5B,8EAAqB,CAAC,CAAC;;IAExB;IACA,MAAM;MAAE6B,YAAY;MAAEC;IAAiB,CAAC,GAAGlB,4DAAoB,CAAC,CAAC;;IAEjE;IACA,MAAMmB,gBAAgB,GAAGlB,2DAAmB,CAAC,CAAC;IAC9C,MAAM;MAAEmB,MAAM,EAAEC;IAAiB,CAAC,GACjCnB,2DAAmB,CAAEgB,gBAAiB,CAAC;;IAExC;IACA,MAAMI,YAAY,GAAGL,YAAY,GAAGI,gBAAgB,GAAGF,gBAAgB;;IAEvE;IACA,MAAMI,eAAe,GAAGvC,2DAAO,CAC9B,MAAMe,uDAAe,CAAEuB,YAAa,CAAC,EACrC,CAAEA,YAAY,CACf,CAAC;;IAED;IACA,MAAM;MAAEE,WAAW;MAAEC;IAAe,CAAC,GAAGtB,sDAAc,CACrDS,KAAK,CAACc,UACP,CAAC;;IAED;IACA,MAAMC,wBAAwB,GAAG5C,+DAAW,CAC3C,CAAE6C,SAAS,GAAG,IAAI,KAAM;MACvB,OAAO/B,+DAAuB,CAC7B0B,eAAe,EACfX,KAAK,CAACE,IAAI,EACVc,SACD,CAAC;IACF,CAAC,EACD,CAAEL,eAAe,EAAEX,KAAK,CAACE,IAAI,CAC9B,CAAC;;IAED;IACA,MAAMe,uBAAuB,GAAG7C,2DAAO,CACtC,MAAMc,4DAAoB,CAAEc,KAAK,CAACE,IAAI,EAAED,kBAAmB,CAAC,EAC5D,CAAED,KAAK,CAACE,IAAI,EAAED,kBAAkB,CACjC,CAAC;;IAED;IACA,MAAMiB,iBAAiB,GAAG/C,+DAAW,CACpC,CAAE6C,SAAS,EAAEG,KAAK,KAAM;MACvB,IAAKC,KAAK,CAACC,OAAO,CAAEL,SAAU,CAAC,EAAG;QACjC;QACA,MAAMM,cAAc,GAAG;UAAE,GAAGV;QAAY,CAAC;QACzC,MAAMW,QAAQ,GAAG,CAAC,CAAC;QAEnBP,SAAS,CAACQ,OAAO,CAAIC,IAAI,IAAM;UAC9BH,cAAc,CAAEG,IAAI,CAAE,GAAGN,KAAK;UAC9BI,QAAQ,CAAEE,IAAI,CAAE,GAAGN,KAAK,GACrB;YACAO,MAAM,EAAE3C,sDAAc;YACtB4C,IAAI,EAAE;cAAEC,GAAG,EAAET;YAAM;UACnB,CAAC,GACDU,SAAS;QACb,CAAE,CAAC;QAEHhB,cAAc,CAAES,cAAe,CAAC;QAChCnB,mBAAmB,CAAEoB,QAAS,CAAC;MAChC,CAAC,MAAM;QACN;QACAV,cAAc,CAAIiB,IAAI,KAAQ;UAC7B,GAAGA,IAAI;UACP,CAAEd,SAAS,GAAIG;QAChB,CAAC,CAAG,CAAC;QACLhB,mBAAmB,CAAE;UACpB,CAAEa,SAAS,GAAIG,KAAK,GACjB;YACAO,MAAM,EAAE3C,sDAAc;YACtB4C,IAAI,EAAE;cAAEC,GAAG,EAAET;YAAM;UACnB,CAAC,GACDU;QACJ,CAAE,CAAC;MACJ;IACD,CAAC,EACD,CAAEjB,WAAW,EAAEC,cAAc,EAAEV,mBAAmB,CACnD,CAAC;;IAED;IACA,MAAM4B,WAAW,GAAG5D,+DAAW,CAAE,MAAM;MACtCiC,sBAAsB,CAAC,CAAC;MACxBS,cAAc,CAAE,CAAC,CAAE,CAAC;IACrB,CAAC,EAAE,CAAET,sBAAsB,EAAES,cAAc,CAAG,CAAC;;IAE/C;IACA,MAAMmB,eAAe,GAAG5D,2DAAO,CAAE,MAAM;MACtC;MACA,IAAKiC,YAAY,EAAG;QACnB,OAAOJ,kBAAkB,IAAIA,kBAAkB,CAACgC,MAAM,GAAG,CAAC;MAC3D;MACA;MACA,OACCtB,eAAe,CAACsB,MAAM,GAAG,CAAC,IAC1BhC,kBAAkB,IAClBA,kBAAkB,CAACgC,MAAM,GAAG,CAAC;IAE/B,CAAC,EAAE,CAAE5B,YAAY,EAAEM,eAAe,EAAEV,kBAAkB,CAAG,CAAC;IAE1D,IAAK,CAAE+B,eAAe,EAAG;MACxB,oBAAOvC,sDAAA,CAACM,SAAS;QAAA,GAAMC;MAAK,CAAI,CAAC;IAClC;IAEA,oBACCH,uDAAA,CAAAF,uDAAA;MAAAuC,QAAA,gBACCzC,sDAAA,CAAClB,sEAAiB;QAAA,GAAMyB,KAAK;QAAAkC,QAAA,eAC5BzC,sDAAA,CAACd,2EAAU;UACVwD,KAAK,EAAGrD,mDAAE,CACT,oBAAoB,EACpB,sBACD,CAAG;UACHsD,QAAQ,EAAGL,WAAa;UAAAG,QAAA,EAEtBjB,uBAAuB,gBACxBxB,sDAAA,CAACZ,+EAAc;YACdwD,QAAQ,EAAGA,CAAA,KACV,CAAC,CAAEzB,WAAW,CAAEX,kBAAkB,CAAE,CAAC,CAAE,CACvC;YACDkC,KAAK,EAAGrD,mDAAE,CACT,gBAAgB,EAChB,sBACD,CAAG;YACHwD,UAAU,EAAGA,CAAA,KACZpB,iBAAiB,CAChBjB,kBAAkB,EAClB,IACD,CACA;YACDsC,gBAAgB;YAAAL,QAAA,eAEhBzC,sDAAA,CAAChB,kEAAe;cACf0D,KAAK,EAAGrD,mDAAE,CACT,OAAO,EACP,sBACD,CAAG;cACH0D,WAAW,EAAG1D,mDAAE,CACf,gBAAgB,EAChB,sBACD,CAAG;cACH2D,OAAO,EAAG1B,wBAAwB,CAAC,CAAG;cACtCI,KAAK,EACJP,WAAW,CACVX,kBAAkB,CAAE,CAAC,CAAE,CACvB,IAAI,EACL;cACDyC,QAAQ,EAAKvB,KAAK,IACjBD,iBAAiB,CAChBjB,kBAAkB,EAClBkB,KACD,CACA;cACDwB,qBAAqB;cACrBC,uBAAuB;YAAA,CACvB;UAAC,CACa,CAAC,GAEjB3C,kBAAkB,CAAC4C,GAAG,CAAI7B,SAAS,iBAClCvB,sDAAA,CAACZ,+EAAc;YAEdwD,QAAQ,EAAGA,CAAA,KACV,CAAC,CAAEzB,WAAW,CAAEI,SAAS,CACzB;YACDmB,KAAK,EAAGnB,SAAW;YACnBsB,UAAU,EAAGA,CAAA,KACZpB,iBAAiB,CAAEF,SAAS,EAAE,IAAK,CACnC;YACDuB,gBAAgB;YAAAL,QAAA,eAEhBzC,sDAAA,CAAChB,kEAAe;cACf0D,KAAK,EAAGnB,SAAW;cACnBwB,WAAW,EAAG1D,mDAAE,CACf,gBAAgB,EAChB,sBACD,CAAG;cACH2D,OAAO,EAAG1B,wBAAwB,CACjCC,SACD,CAAG;cACHG,KAAK,EAAGP,WAAW,CAAEI,SAAS,CAAE,IAAI,EAAI;cACxC0B,QAAQ,EAAKvB,KAAK,IACjBD,iBAAiB,CAChBF,SAAS,EACTG,KACD,CACA;cACDwB,qBAAqB;cACrBC,uBAAuB;YAAA,CACvB;UAAC,GA5BI,eAAgB5B,SAAS,EA6BhB,CACf;QACF,CACU;MAAC,CACK,CAAC,eACpBvB,sDAAA,CAACM,SAAS;QAAA,GAAMC;MAAK,CAAI,CAAC;IAAA,CACzB,CAAC;EAEL,CAAC;AACF,CAAC,EAAE,oBAAqB,CAAC;AAEzB3B,2DAAS,CACR,kBAAkB,EAClB,2CAA2C,EAC3CyB,kBACD,CAAC,C;;;;;;;;;;;;;;;ACvPD;AACA;AACA;AACA;AACA;AACO,MAAMgD,qBAAqB,GAAG;EACpC,gBAAgB,EAAE;IACjBC,OAAO,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO;EAChE,CAAC;EACD,cAAc,EAAE;IACfA,OAAO,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO;EAChE,CAAC;EACD,YAAY,EAAE;IACbC,EAAE,EAAE,CAAE,OAAO,CAAE;IACfC,GAAG,EAAE,CAAE,OAAO,CAAE;IAChBC,KAAK,EAAE,CAAE,OAAO,CAAE;IAClBC,GAAG,EAAE,CAAE,OAAO;EACf,CAAC;EACD,aAAa,EAAE;IACdF,GAAG,EAAE,CAAE,KAAK,CAAE;IACdG,IAAI,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,aAAa,CAAE;IACrDC,UAAU,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,CAAE;IAC5CC,GAAG,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,QAAQ;EACpC;AACD,CAAC;;AAED;AACA;AACA;AACO,MAAMvE,cAAc,GAAG,WAAW,C;;;;;;;;;;;;;;;;;;AC7BzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASwE,YAAYA,CAAEC,IAAI,EAAG;EACpC,IAAK,CAAEA,IAAI,EAAEC,GAAG,EAAG;IAClB,OAAO,CAAC,CAAC;EACV;;EAEA;EACA,MAAMC,YAAY,GAAG,CAAC,CAAC;EACvBC,MAAM,CAACC,OAAO,CAAEJ,IAAI,CAACC,GAAI,CAAC,CAACjC,OAAO,CAAE,CAAE,CAAEI,GAAG,EAAET,KAAK,CAAE,KAAM;IACzD,IAAKS,GAAG,CAACiC,QAAQ,CAAE,SAAU,CAAC,EAAG;MAChC;MACA,MAAMC,SAAS,GAAGlC,GAAG,CAACmC,OAAO,CAAE,SAAS,EAAE,EAAG,CAAC;MAC9CL,YAAY,CAAEI,SAAS,CAAE,GAAG3C,KAAK;IAClC;EACD,CAAE,CAAC;EAEH,OAAOuC,YAAY;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASM,qBAAqBA,CAAEC,QAAQ,EAAEjD,SAAS,EAAG;EAC5D,IAAK,CAAEiD,QAAQ,EAAG;IACjB,OAAO,EAAE;EACV;EAEA,QAASjD,SAAS;IACjB,KAAK,KAAK;MACT,OAAOiD,QAAQ,CAAChB,GAAG,IAAI,EAAE;IAC1B,KAAK,KAAK;MACT,OAAOgB,QAAQ,CAACd,GAAG,IAAI,EAAE;IAC1B,KAAK,OAAO;MACX,OAAOc,QAAQ,CAACf,KAAK,IAAI,EAAE;IAC5B,KAAK,IAAI;MACR,OAAOe,QAAQ,CAACjB,EAAE,IAAIiB,QAAQ,CAACC,EAAE,IAAI,EAAE;IACxC;MACC,OAAO,EAAE;EACX;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,mBAAmBA,CAAEnD,SAAS,EAAEW,IAAI,EAAEyC,SAAS,EAAG;EACjE,MAAMN,SAAS,GAAGnC,IAAI,EAAEC,GAAG;EAC3B,MAAMyC,WAAW,GAAGD,SAAS,CAAEN,SAAS,CAAE;EAE1C,IAAK,CAAEO,WAAW,EAAG;IACpB,OAAO,EAAE;EACV;EAEA,MAAMC,SAAS,GAAGD,WAAW,CAACE,IAAI;EAClC,MAAMC,UAAU,GAAGH,WAAW,CAACI,eAAe;EAE9C,QAASH,SAAS;IACjB,KAAK,OAAO;MACX,OAAON,qBAAqB,CAAEQ,UAAU,EAAExD,SAAU,CAAC;IAEtD,KAAK,UAAU;MACd;MACA,IAAKI,KAAK,CAACC,OAAO,CAAEmD,UAAW,CAAC,EAAG;QAClC,OAAOA,UAAU,CAACE,IAAI,CAAE,IAAK,CAAC;MAC/B;MACA,OAAOF,UAAU,GAAGG,MAAM,CAAEH,UAAW,CAAC,GAAG,EAAE;IAE9C,KAAK,QAAQ;IACb,KAAK,OAAO;MACX,OAAOA,UAAU,GAAGG,MAAM,CAAEH,UAAW,CAAC,GAAG,EAAE;IAE9C,KAAK,aAAa;IAClB,KAAK,MAAM;IACX,KAAK,UAAU;IACf,KAAK,KAAK;IACV,KAAK,OAAO;IACZ,KAAK,QAAQ;IACb;MACC,OAAOA,UAAU,GAAGG,MAAM,CAAEH,UAAW,CAAC,GAAG,EAAE;EAC/C;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASI,gBAAgBA,CAAEC,QAAQ,EAAG;EAC5C,IAAK,CAAEA,QAAQ,EAAG;IACjB,OAAO,EAAE;EACV;EAEA,OAAOA,QAAQ,CACbC,KAAK,CAAE,GAAI,CAAC,CACZjC,GAAG,CAAIkC,IAAI,IAAMA,IAAI,CAACC,MAAM,CAAE,CAAE,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,IAAI,CAACG,KAAK,CAAE,CAAE,CAAE,CAAC,CACnER,IAAI,CAAE,GAAI,CAAC;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASS,aAAaA,CAC5BN,QAAQ,EACRO,aAAa,GAAG,IAAI,EACpBC,YAAY,GAAG,EAAE,EAChB;EACD,IAAK,CAAER,QAAQ,EAAG;IACjB,OAAOQ,YAAY;EACpB;;EAEA;EACA,IAAKD,aAAa,IAAIA,aAAa,CAAEP,QAAQ,CAAE,EAAE1C,KAAK,EAAG;IACxD,OAAOiD,aAAa,CAAEP,QAAQ,CAAE,CAAC1C,KAAK;EACvC;;EAEA;EACA,OAAOyC,gBAAgB,CAAEC,QAAS,CAAC;AACpC,C;;;;;;;;;;;;;;;;;;;ACvJA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIS,kBAAkB,GAAG,CAAC,CAAC;;AAE3B;AACA;AACA;AACA;AACA;AACO,MAAMC,gBAAgB,GAAK/E,MAAM,IAAM;EAC7C8E,kBAAkB,GAAG9E,MAAM,IAAI,CAAC,CAAC;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACO,MAAMgF,gBAAgB,GAAKhF,MAAM,IAAM;EAC7C8E,kBAAkB,GAAG;IAAE,GAAGA,kBAAkB;IAAE,GAAG9E;EAAO,CAAC;AAC1D,CAAC;;AAED;AACA;AACA;AACO,MAAMiF,kBAAkB,GAAGA,CAAA,KAAM;EACvCH,kBAAkB,GAAG,CAAC,CAAC;AACxB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACO,MAAMI,gBAAgB,GAAKb,QAAQ,IAAM;EAC/C,OAAOS,kBAAkB,CAAET,QAAQ,CAAE,IAAI,IAAI;AAC9C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACO,MAAMc,mBAAmB,GAAGA,CAAA,KAAM;EACxC,OAAOL,kBAAkB;AAC1B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACO,MAAMM,gBAAgB,GAAKf,QAAQ,IAAM;EAC/C,OAAO,CAAC,CAAES,kBAAkB,CAAET,QAAQ,CAAE;AACzC,CAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DD;AACA;AACA;;AAEyD;AACb;AACkB;AACL;AACb;AACE;AAE+B;AACrB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACO,SAASzF,oBAAoBA,CAAA,EAAG;EACtC,OAAO2G,0DAAS,CAAIQ,MAAM,IAAM;IAC/B,MAAM;MAAEC,kBAAkB;MAAEC;IAAiB,CAAC,GAAGF,MAAM,CAAEL,oDAAY,CAAC;IACtE,MAAM;MAAEQ;IAAsB,CAAC,GAAGH,MAAM,CAAEN,uDAAc,CAAC;IAEzD,MAAMU,QAAQ,GAAGH,kBAAkB,CAAC,CAAC;IACrC,MAAMI,MAAM,GAAGH,gBAAgB,CAAC,CAAC;IAEjC,MAAMpG,YAAY,GAAGsG,QAAQ,KAAK,aAAa;IAE/C,IAAK,CAAEtG,YAAY,EAAG;MACrB,OAAO;QACNA,YAAY,EAAE,KAAK;QACnBC,gBAAgB,EAAE;MACnB,CAAC;IACF;IAEA,MAAMuG,QAAQ,GAAGH,qBAAqB,CACrC,UAAU,EACV,aAAa,EACbE,MACD,CAAC;IAED,MAAMtG,gBAAgB,GAAG+F,mEAA2B,CACnDQ,QAAQ,EAAEC,IAAI,IAAI,EACnB,CAAC;IAED,OAAO;MACNzG,YAAY,EAAE,IAAI;MAClBC;IACD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASjB,mBAAmBA,CAAA,EAAG;EACrC,OAAO0G,0DAAS,CAAIQ,MAAM,IAAM;IAC/B,MAAM;MAAEC,kBAAkB;MAAEC;IAAiB,CAAC,GAAGF,MAAM,CAAEL,oDAAY,CAAC;IACtE,MAAM;MAAEQ;IAAsB,CAAC,GAAGH,MAAM,CAAEN,uDAAc,CAAC;IAEzD,MAAMU,QAAQ,GAAGH,kBAAkB,CAAC,CAAC;IACrC,MAAMI,MAAM,GAAGH,gBAAgB,CAAC,CAAC;IAEjC,IAAK,CAAEE,QAAQ,IAAI,CAAEC,MAAM,IAAID,QAAQ,KAAK,aAAa,EAAG;MAC3D,OAAO,CAAC,CAAC;IACV;IAEA,MAAMI,MAAM,GAAGL,qBAAqB,CAAE,UAAU,EAAEC,QAAQ,EAAEC,MAAO,CAAC;;IAEpE;IACA,MAAMI,aAAa,GAAG,CAAC,CAAC;IACxB,IAAKD,MAAM,EAAEtD,GAAG,EAAG;MAClBE,MAAM,CAACC,OAAO,CAAEmD,MAAM,CAACtD,GAAI,CAAC,CAACjC,OAAO,CAAE,CAAE,CAAEI,GAAG,EAAET,KAAK,CAAE,KAAM;QAC3D,IAAKS,GAAG,CAACiC,QAAQ,CAAE,SAAU,CAAC,EAAG;UAChC,MAAMoD,aAAa,GAAGrF,GAAG,CAACmC,OAAO,CAAE,SAAS,EAAE,EAAG,CAAC;UAClD,IAAKJ,MAAM,CAACuD,MAAM,CAAEH,MAAM,CAACtD,GAAG,EAAEwD,aAAc,CAAC,EAAG;YACjDD,aAAa,CAAEC,aAAa,CAAE,GAAG9F,KAAK;UACvC;QACD;MACD,CAAE,CAAC;IACJ;IAEA,OAAO6F,aAAa;EACrB,CAAC,EAAE,EAAG,CAAC;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS1H,mBAAmBA,CAAEqH,QAAQ,EAAG;EAC/C,MAAM,CAAEnG,MAAM,EAAE2G,SAAS,CAAE,GAAGtB,4DAAQ,CAAE,CAAC,CAAE,CAAC;EAC5C,MAAM,CAAEuB,SAAS,EAAEC,YAAY,CAAE,GAAGxB,4DAAQ,CAAE,KAAM,CAAC;EACrD,MAAM,CAAEyB,KAAK,EAAEC,QAAQ,CAAE,GAAG1B,4DAAQ,CAAE,IAAK,CAAC;EAE5CC,6DAAS,CAAE,MAAM;IAChB,IAAK,CAAEa,QAAQ,EAAG;MACjBQ,SAAS,CAAE,CAAC,CAAE,CAAC;MACfE,YAAY,CAAE,KAAM,CAAC;MACrBE,QAAQ,CAAE,IAAK,CAAC;MAChB;IACD;IAEA,IAAIC,WAAW,GAAG,KAAK;IACvBH,YAAY,CAAE,IAAK,CAAC;IACpBE,QAAQ,CAAE,IAAK,CAAC;IAEhB,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACH,MAAMC,IAAI,GAAGtB,4DAAY,CAAE,gBAAiBO,QAAQ,EAAG,EAAE;UACxDgB,OAAO,EAAE;QACV,CAAE,CAAC;QAEH,MAAMC,YAAY,GAAG,MAAMzB,2DAAQ,CAAE;UAAEuB;QAAK,CAAE,CAAC;QAE/C,IAAKF,WAAW,EAAG;UAClB;QACD;QAEA,MAAMK,SAAS,GAAGvB,6DAAqB,CACtCsB,YAAY,CAACE,gBACd,CAAC;;QAED;QACAtC,qEAAgB,CAAEqC,SAAU,CAAC;QAE7BV,SAAS,CAAEU,SAAU,CAAC;QACtBR,YAAY,CAAE,KAAM,CAAC;MACtB,CAAC,CAAC,OAAQU,GAAG,EAAG;QACf,IAAK,CAAEP,WAAW,EAAG;UACpBD,QAAQ,CAAEQ,GAAI,CAAC;UACfV,YAAY,CAAE,KAAM,CAAC;QACtB;MACD;IACD,CAAC;IAEDI,WAAW,CAAC,CAAC;;IAEb;IACA,OAAO,MAAM;MACZD,WAAW,GAAG,IAAI;IACnB,CAAC;EACF,CAAC,EAAE,CAAEb,QAAQ,CAAG,CAAC;EAEjB,OAAO;IAAEnG,MAAM;IAAE4G,SAAS;IAAEE;EAAM,CAAC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS/H,cAAcA,CAAEyI,eAAe,EAAG;EACjD,MAAM,CAAEpH,WAAW,EAAEC,cAAc,CAAE,GAAGgF,4DAAQ,CAAE,CAAC,CAAE,CAAC;EAEtDC,6DAAS,CAAE,MAAM;IAChB,MAAMmC,eAAe,GAAGD,eAAe,EAAEE,QAAQ,EAAE3G,QAAQ,IAAI,CAAC,CAAC;IACjE,MAAMD,cAAc,GAAG,CAAC,CAAC;IAEzBqC,MAAM,CAACwE,IAAI,CAAEF,eAAgB,CAAC,CAACzG,OAAO,CAAIR,SAAS,IAAM;MACxD,IAAKiH,eAAe,CAAEjH,SAAS,CAAE,EAAEW,IAAI,EAAEC,GAAG,EAAG;QAC9CN,cAAc,CAAEN,SAAS,CAAE,GAC1BiH,eAAe,CAAEjH,SAAS,CAAE,CAACW,IAAI,CAACC,GAAG;MACvC;IACD,CAAE,CAAC;IAEHf,cAAc,CAAES,cAAe,CAAC;EACjC,CAAC,EAAE,CAAE0G,eAAe,EAAEE,QAAQ,EAAE3G,QAAQ,CAAG,CAAC;EAE5C,OAAO;IAAEX,WAAW;IAAEC;EAAe,CAAC;AACvC,C;;;;;;;;;;;;;;;;;;;;;ACpLA;AACA;AACA;AACgE;AACF;AACL;AACpB;;AAErC;AACA;AACA;AAK4B;AAC4B;;AAExD;AACA;AACA;AACAuH,8EAA2B,CAAE;EAC5BlI,IAAI,EAAE,WAAW;EACjBiC,KAAK,EAAErD,mDAAE,CAAE,YAAY,EAAE,sBAAuB,CAAC;EACjDuJ,QAAQA,CAAE;IAAE1G,IAAI;IAAE4E;EAAO,CAAC,EAAG;IAC5B,MAAM1B,QAAQ,GAAGlD,IAAI,EAAEC,GAAG;IAE1B,IAAK,CAAEiD,QAAQ,EAAG;MACjB,OAAO/F,mDAAE,CAAE,YAAY,EAAE,sBAAuB,CAAC;IAClD;IAEA,MAAMsG,aAAa,GAAGM,qEAAgB,CAAEb,QAAS,CAAC;IAElD,IAAKO,aAAa,EAAEjD,KAAK,EAAG;MAC3B,OAAOiD,aAAa,CAACjD,KAAK;IAC3B;IAEA,OAAOyC,mEAAgB,CAAEC,QAAS,CAAC;EACpC,CAAC;EACDyD,SAASA,CAAE;IAAEX,OAAO;IAAEpG,QAAQ;IAAEgF;EAAO,CAAC,EAAG;IAC1C,MAAM;MAAEC;IAAmB,CAAC,GAAGD,MAAM,CAAEL,oDAAY,CAAC;IACpD,MAAMqC,eAAe,GAAG/B,kBAAkB,CAAC,CAAC;IAC5C,MAAMnG,YAAY,GAAGkI,eAAe,KAAK,aAAa;;IAEtD;IACA,IAAKlI,YAAY,EAAG;MACnB,MAAMmI,MAAM,GAAG,CAAC,CAAC;MACjB7E,MAAM,CAACC,OAAO,CAAErC,QAAS,CAAC,CAACC,OAAO,CACjC,CAAE,CAAER,SAAS,EAAE;QAAEW;MAAK,CAAC,GAAG,CAAC,CAAC,CAAE,KAAM;QACnC,MAAMkD,QAAQ,GAAGlD,IAAI,EAAEC,GAAG;QAC1B,IAAK,CAAEiD,QAAQ,EAAG;UACjB2D,MAAM,CAAExH,SAAS,CAAE,GAAG,EAAE;UACxB;QACD;QAEA,MAAMoE,aAAa,GAAGM,qEAAgB,CAAEb,QAAS,CAAC;QAClD2D,MAAM,CAAExH,SAAS,CAAE,GAClBoE,aAAa,EAAEjD,KAAK,IAAIyC,mEAAgB,CAAEC,QAAS,CAAC;MACtD,CACD,CAAC;MACD,OAAO2D,MAAM;IACd;;IAEA;IACA,MAAM;MAAE9B;IAAsB,CAAC,GAAGH,MAAM,CAAEN,uDAAc,CAAC;IAEzD,MAAMzC,IAAI,GACTmE,OAAO,EAAEhB,QAAQ,IAAIgB,OAAO,EAAEf,MAAM,GACjCF,qBAAqB,CACrB,UAAU,EACViB,OAAO,CAAChB,QAAQ,EAChBgB,OAAO,CAACf,MACR,CAAC,GACD/E,SAAS;IAEb,MAAMuC,SAAS,GAAGb,+DAAY,CAAEC,IAAK,CAAC;IACtC,MAAMgF,MAAM,GAAG,CAAC,CAAC;IAEjB7E,MAAM,CAACC,OAAO,CAAErC,QAAS,CAAC,CAACC,OAAO,CACjC,CAAE,CAAER,SAAS,EAAE;MAAEW;IAAK,CAAC,GAAG,CAAC,CAAC,CAAE,KAAM;MACnC,MAAMR,KAAK,GAAGgD,sEAAmB,CAAEnD,SAAS,EAAEW,IAAI,EAAEyC,SAAU,CAAC;MAC/DoE,MAAM,CAAExH,SAAS,CAAE,GAAGG,KAAK;IAC5B,CACD,CAAC;IAED,OAAOqH,MAAM;EACd,CAAC;EACDC,gBAAgBA,CAAA,EAAG;IAClB,OAAO,KAAK;EACb;AACD,CAAE,CAAC,C;;;;;;;;;;;;;;;;;;;;;AC1FH;AACA;AACA;;AAEoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASzJ,qBAAqBA,CAAE0J,SAAS,EAAG;EAClD,MAAMC,MAAM,GAAG7F,6DAAqB,CAAE4F,SAAS,CAAE;EACjD,OAAOC,MAAM,GAAGhF,MAAM,CAACwE,IAAI,CAAEQ,MAAO,CAAC,GAAG,EAAE;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,oBAAoBA,CAAEF,SAAS,EAAE1H,SAAS,GAAG,IAAI,EAAG;EACnE,MAAM6H,WAAW,GAAG/F,6DAAqB,CAAE4F,SAAS,CAAE;EAEtD,IAAK,CAAEG,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,IAAK7H,SAAS,EAAG;IAChB,OAAO6H,WAAW,CAAE7H,SAAS,CAAE,IAAI,IAAI;EACxC;;EAEA;EACA,OAAO,CAAE,GAAG,IAAI8H,GAAG,CAAEnF,MAAM,CAACoF,MAAM,CAAEF,WAAY,CAAC,CAACG,IAAI,CAAC,CAAE,CAAC,CAAE;AAC7D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS/J,uBAAuBA,CACtCgK,YAAY,EACZP,SAAS,EACT1H,SAAS,GAAG,IAAI,EACf;EACD,IAAK,CAAEiI,YAAY,IAAIA,YAAY,CAAChH,MAAM,KAAK,CAAC,EAAG;IAClD,OAAO,EAAE;EACV;EAEA,MAAMiH,YAAY,GAAGN,oBAAoB,CAAEF,SAAS,EAAE1H,SAAU,CAAC;EAEjE,IAAK,CAAEkI,YAAY,EAAG;IACrB,OAAOD,YAAY;EACpB;EAEA,OAAOA,YAAY,CAACE,MAAM,CAAIC,MAAM,IACnCF,YAAY,CAACG,QAAQ,CAAED,MAAM,CAAC7E,IAAK,CACpC,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASrF,oBAAoBA,CAAEwJ,SAAS,EAAEzI,kBAAkB,EAAG;EACrE,IAAK,CAAEA,kBAAkB,IAAIA,kBAAkB,CAACgC,MAAM,IAAI,CAAC,EAAG;IAC7D,OAAO,KAAK;EACb;EAEA,MAAM4G,WAAW,GAAG/F,6DAAqB,CAAE4F,SAAS,CAAE;EACtD,IAAK,CAAEG,WAAW,EAAG;IACpB,OAAO,KAAK;EACb;EAEA,MAAMS,mBAAmB,GAAGT,WAAW,CAAE5I,kBAAkB,CAAE,CAAC,CAAE,CAAE,IAAI,EAAE;EAExE,OAAOA,kBAAkB,CAACsJ,KAAK,CAAI9H,IAAI,IAAM;IAC5C,MAAM+H,SAAS,GAAGX,WAAW,CAAEpH,IAAI,CAAE,IAAI,EAAE;IAC3C,OACC+H,SAAS,CAACvH,MAAM,KAAKqH,mBAAmB,CAACrH,MAAM,IAC/CuH,SAAS,CAACD,KAAK,CAAIhF,IAAI,IAAM+E,mBAAmB,CAACD,QAAQ,CAAE9E,IAAK,CAAE,CAAC;EAErE,CAAE,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS8B,2BAA2BA,CAAEoD,YAAY,EAAG;EAC3D,IAAK,CAAEA,YAAY,EAAG;IACrB,OAAO,IAAI;EACZ;;EAEA;EACA,IAAKA,YAAY,CAACC,UAAU,CAAE,SAAU,CAAC,EAAG;IAC3C,OAAOD,YAAY,CAAC1F,OAAO,CAAE,SAAS,EAAE,EAAG,CAAC;EAC7C;;EAEA;EACA,IAAK0F,YAAY,CAACC,UAAU,CAAE,UAAW,CAAC,EAAG;IAC5C,OAAOD,YAAY,CAAC1F,OAAO,CAAE,UAAU,EAAE,EAAG,CAAC;EAC9C;;EAEA;EACA,IAAK0F,YAAY,KAAK,QAAQ,EAAG;IAChC,OAAO,MAAM;EACd;EAEA,OAAO,IAAI;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASnD,qBAAqBA,CAAEqD,WAAW,EAAG;EACpD,MAAM9B,SAAS,GAAG,CAAC,CAAC;EAEpB,IAAK,CAAEzG,KAAK,CAACC,OAAO,CAAEsI,WAAY,CAAC,EAAG;IACrC,OAAO9B,SAAS;EACjB;EAEA8B,WAAW,CAACnI,OAAO,CAAIoI,KAAK,IAAM;IACjC,IAAKxI,KAAK,CAACC,OAAO,CAAEuI,KAAK,CAACpJ,MAAO,CAAC,EAAG;MACpCoJ,KAAK,CAACpJ,MAAM,CAACgB,OAAO,CAAIqI,KAAK,IAAM;QAClChC,SAAS,CAAEgC,KAAK,CAAC3J,IAAI,CAAE,GAAG;UACzBiC,KAAK,EAAE0H,KAAK,CAAC1H,KAAK;UAClBoC,IAAI,EAAEsF,KAAK,CAACtF;QACb,CAAC;MACF,CAAE,CAAC;IACJ;EACD,CAAE,CAAC;EAEH,OAAOsD,SAAS;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS1I,eAAeA,CAAE0I,SAAS,EAAG;EAC5C,IAAK,CAAEA,SAAS,IAAIlE,MAAM,CAACwE,IAAI,CAAEN,SAAU,CAAC,CAAC5F,MAAM,KAAK,CAAC,EAAG;IAC3D,OAAO,EAAE;EACV;EAEA,OAAO0B,MAAM,CAACC,OAAO,CAAEiE,SAAU,CAAC,CAAChF,GAAG,CACrC,CAAE,CAAEiB,SAAS,EAAEO,WAAW,CAAE,MAAQ;IACnClD,KAAK,EAAE2C,SAAS;IAChB3B,KAAK,EAAEkC,WAAW,CAAClC,KAAK;IACxBoC,IAAI,EAAEF,WAAW,CAACE;EACnB,CAAC,CACF,CAAC;AACF,C;;;;;;;;;;AChLA,0C;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,uC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,qC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;ACNsB","sources":["webpack:///./assets/src/js/bindings/block-editor.js","webpack:///./assets/src/js/bindings/constants.js","webpack:///./assets/src/js/bindings/field-processing.js","webpack:///./assets/src/js/bindings/fieldMetadataCache.js","webpack:///./assets/src/js/bindings/hooks.js","webpack:///./assets/src/js/bindings/sources.js","webpack:///./assets/src/js/bindings/utils.js","webpack:///external window [\"wp\",\"apiFetch\"]","webpack:///external window [\"wp\",\"blockEditor\"]","webpack:///external window [\"wp\",\"blocks\"]","webpack:///external window [\"wp\",\"components\"]","webpack:///external window [\"wp\",\"compose\"]","webpack:///external window [\"wp\",\"coreData\"]","webpack:///external window [\"wp\",\"data\"]","webpack:///external window [\"wp\",\"editor\"]","webpack:///external window [\"wp\",\"element\"]","webpack:///external window [\"wp\",\"hooks\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///external window [\"wp\",\"url\"]","webpack:///external window \"ReactJSXRuntime\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./assets/src/js/bindings/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useCallback, useMemo } from '@wordpress/element';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport {\n\tInspectorControls,\n\tuseBlockBindingsUtils,\n} from '@wordpress/block-editor';\nimport {\n\tComboboxControl,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { BINDING_SOURCE } from './constants';\nimport {\n\tgetBindableAttributes,\n\tgetFilteredFieldOptions,\n\tcanUseUnifiedBinding,\n\tfieldsToOptions,\n} from './utils';\nimport {\n\tuseSiteEditorContext,\n\tusePostEditorFields,\n\tuseSiteEditorFields,\n\tuseBoundFields,\n} from './hooks';\n\n/**\n * Add custom block binding controls to supported blocks.\n *\n * @since 6.5.0\n */\nconst withCustomControls = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\tconst bindableAttributes = getBindableAttributes( props.name );\n\t\tconst { updateBlockBindings, removeAllBlockBindings } =\n\t\t\tuseBlockBindingsUtils();\n\n\t\t// Get editor context\n\t\tconst { isSiteEditor, templatePostType } = useSiteEditorContext();\n\n\t\t// Get fields based on editor context\n\t\tconst postEditorFields = usePostEditorFields();\n\t\tconst { fields: siteEditorFields } =\n\t\t\tuseSiteEditorFields( templatePostType );\n\n\t\t// Use appropriate fields based on context\n\t\tconst activeFields = isSiteEditor ? siteEditorFields : postEditorFields;\n\n\t\t// Convert fields to options format\n\t\tconst allFieldOptions = useMemo(\n\t\t\t() => fieldsToOptions( activeFields ),\n\t\t\t[ activeFields ]\n\t\t);\n\n\t\t// Track bound fields\n\t\tconst { boundFields, setBoundFields } = useBoundFields(\n\t\t\tprops.attributes\n\t\t);\n\n\t\t// Get filtered field options for a specific attribute\n\t\tconst getAttributeFieldOptions = useCallback(\n\t\t\t( attribute = null ) => {\n\t\t\t\treturn getFilteredFieldOptions(\n\t\t\t\t\tallFieldOptions,\n\t\t\t\t\tprops.name,\n\t\t\t\t\tattribute\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ allFieldOptions, props.name ]\n\t\t);\n\n\t\t// Check if all attributes can use unified binding mode\n\t\tconst canUseAllAttributesMode = useMemo(\n\t\t\t() => canUseUnifiedBinding( props.name, bindableAttributes ),\n\t\t\t[ props.name, bindableAttributes ]\n\t\t);\n\n\t\t// Handle field selection changes\n\t\tconst handleFieldChange = useCallback(\n\t\t\t( attribute, value ) => {\n\t\t\t\tif ( Array.isArray( attribute ) ) {\n\t\t\t\t\t// Handle multiple attributes at once\n\t\t\t\t\tconst newBoundFields = { ...boundFields };\n\t\t\t\t\tconst bindings = {};\n\n\t\t\t\t\tattribute.forEach( ( attr ) => {\n\t\t\t\t\t\tnewBoundFields[ attr ] = value;\n\t\t\t\t\t\tbindings[ attr ] = value\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tsource: BINDING_SOURCE,\n\t\t\t\t\t\t\t\t\targs: { key: value },\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t} );\n\n\t\t\t\t\tsetBoundFields( newBoundFields );\n\t\t\t\t\tupdateBlockBindings( bindings );\n\t\t\t\t} else {\n\t\t\t\t\t// Handle single attribute\n\t\t\t\t\tsetBoundFields( ( prev ) => ( {\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t[ attribute ]: value,\n\t\t\t\t\t} ) );\n\t\t\t\t\tupdateBlockBindings( {\n\t\t\t\t\t\t[ attribute ]: value\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tsource: BINDING_SOURCE,\n\t\t\t\t\t\t\t\t\targs: { key: value },\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t\t[ boundFields, setBoundFields, updateBlockBindings ]\n\t\t);\n\n\t\t// Handle reset all bindings\n\t\tconst handleReset = useCallback( () => {\n\t\t\tremoveAllBlockBindings();\n\t\t\tsetBoundFields( {} );\n\t\t}, [ removeAllBlockBindings, setBoundFields ] );\n\n\t\t// Determine if we should show the panel\n\t\tconst shouldShowPanel = useMemo( () => {\n\t\t\t// In site editor, show panel if block has bindable attributes\n\t\t\tif ( isSiteEditor ) {\n\t\t\t\treturn bindableAttributes && bindableAttributes.length > 0;\n\t\t\t}\n\t\t\t// In post editor, only show if we have fields available\n\t\t\treturn (\n\t\t\t\tallFieldOptions.length > 0 &&\n\t\t\t\tbindableAttributes &&\n\t\t\t\tbindableAttributes.length > 0\n\t\t\t);\n\t\t}, [ isSiteEditor, allFieldOptions, bindableAttributes ] );\n\n\t\tif ( ! shouldShowPanel ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls { ...props }>\n\t\t\t\t\t<ToolsPanel\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Connect to a field',\n\t\t\t\t\t\t\t'secure-custom-fields'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tresetAll={ handleReset }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ canUseAllAttributesMode ? (\n\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\thasValue={ () =>\n\t\t\t\t\t\t\t\t\t!! boundFields[ bindableAttributes[ 0 ] ]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'All attributes',\n\t\t\t\t\t\t\t\t\t'secure-custom-fields'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\tbindableAttributes,\n\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ComboboxControl\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Field',\n\t\t\t\t\t\t\t\t\t\t'secure-custom-fields'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t'Select a field',\n\t\t\t\t\t\t\t\t\t\t'secure-custom-fields'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\toptions={ getAttributeFieldOptions() }\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tboundFields[\n\t\t\t\t\t\t\t\t\t\t\tbindableAttributes[ 0 ]\n\t\t\t\t\t\t\t\t\t\t] || ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\t\tbindableAttributes,\n\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tbindableAttributes.map( ( attribute ) => (\n\t\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\t\tkey={ `scf-binding-${ attribute }` }\n\t\t\t\t\t\t\t\t\thasValue={ () =>\n\t\t\t\t\t\t\t\t\t\t!! boundFields[ attribute ]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={ attribute }\n\t\t\t\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\t\t\t\thandleFieldChange( attribute, null )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ComboboxControl\n\t\t\t\t\t\t\t\t\t\tlabel={ attribute }\n\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Select a field',\n\t\t\t\t\t\t\t\t\t\t\t'secure-custom-fields'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\toptions={ getAttributeFieldOptions(\n\t\t\t\t\t\t\t\t\t\t\tattribute\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ boundFields[ attribute ] || '' }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ToolsPanel>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</>\n\t\t);\n\t};\n}, 'withCustomControls' );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'secure-custom-fields/with-custom-controls',\n\twithCustomControls\n);\n","/**\n * Block binding configuration\n *\n * Defines which SCF field types can be bound to specific block attributes.\n */\nexport const BLOCK_BINDINGS_CONFIG = {\n\t'core/paragraph': {\n\t\tcontent: [ 'text', 'textarea', 'date_picker', 'number', 'range' ],\n\t},\n\t'core/heading': {\n\t\tcontent: [ 'text', 'textarea', 'date_picker', 'number', 'range' ],\n\t},\n\t'core/image': {\n\t\tid: [ 'image' ],\n\t\turl: [ 'image' ],\n\t\ttitle: [ 'image' ],\n\t\talt: [ 'image' ],\n\t},\n\t'core/button': {\n\t\turl: [ 'url' ],\n\t\ttext: [ 'text', 'checkbox', 'select', 'date_picker' ],\n\t\tlinkTarget: [ 'text', 'checkbox', 'select' ],\n\t\trel: [ 'text', 'checkbox', 'select' ],\n\t},\n};\n\n/**\n * Binding source identifier\n */\nexport const BINDING_SOURCE = 'acf/field';\n","/**\n * Field processing utilities for block bindings\n *\n * @since 6.5.0\n */\n\n/**\n * Gets the SCF fields from the post entity.\n *\n * @since 6.5.0\n *\n * @param {Object} post The post entity object.\n * @return {Object} The SCF fields object with source data.\n */\nexport function getSCFFields( post ) {\n\tif ( ! post?.acf ) {\n\t\treturn {};\n\t}\n\n\t// Extract only the _source fields which contain the formatted data\n\tconst sourceFields = {};\n\tObject.entries( post.acf ).forEach( ( [ key, value ] ) => {\n\t\tif ( key.endsWith( '_source' ) ) {\n\t\t\t// Remove the _source suffix to get the field name\n\t\t\tconst fieldName = key.replace( '_source', '' );\n\t\t\tsourceFields[ fieldName ] = value;\n\t\t}\n\t} );\n\n\treturn sourceFields;\n}\n\n/**\n * Resolves image attribute values from an image object.\n *\n * @since 6.5.0\n *\n * @param {Object} imageObj  The image object from SCF field data.\n * @param {string} attribute The attribute to resolve (url, alt, title, id).\n * @return {string|number} The resolved attribute value.\n */\nexport function resolveImageAttribute( imageObj, attribute ) {\n\tif ( ! imageObj ) {\n\t\treturn '';\n\t}\n\n\tswitch ( attribute ) {\n\t\tcase 'url':\n\t\t\treturn imageObj.url || '';\n\t\tcase 'alt':\n\t\t\treturn imageObj.alt || '';\n\t\tcase 'title':\n\t\t\treturn imageObj.title || '';\n\t\tcase 'id':\n\t\t\treturn imageObj.id || imageObj.ID || '';\n\t\tdefault:\n\t\t\treturn '';\n\t}\n}\n\n/**\n * Processes a single field binding and returns its resolved value.\n *\n * @since 6.7.0\n *\n * @param {string} attribute The attribute being bound.\n * @param {Object} args      The binding arguments.\n * @param {Object} scfFields The SCF fields object.\n * @return {string} The resolved field value.\n */\nexport function processFieldBinding( attribute, args, scfFields ) {\n\tconst fieldName = args?.key;\n\tconst fieldConfig = scfFields[ fieldName ];\n\n\tif ( ! fieldConfig ) {\n\t\treturn '';\n\t}\n\n\tconst fieldType = fieldConfig.type;\n\tconst fieldValue = fieldConfig.formatted_value;\n\n\tswitch ( fieldType ) {\n\t\tcase 'image':\n\t\t\treturn resolveImageAttribute( fieldValue, attribute );\n\n\t\tcase 'checkbox':\n\t\t\t// For checkbox fields, join array values or return as string\n\t\t\tif ( Array.isArray( fieldValue ) ) {\n\t\t\t\treturn fieldValue.join( ', ' );\n\t\t\t}\n\t\t\treturn fieldValue ? String( fieldValue ) : '';\n\n\t\tcase 'number':\n\t\tcase 'range':\n\t\t\treturn fieldValue ? String( fieldValue ) : '';\n\n\t\tcase 'date_picker':\n\t\tcase 'text':\n\t\tcase 'textarea':\n\t\tcase 'url':\n\t\tcase 'email':\n\t\tcase 'select':\n\t\tdefault:\n\t\t\treturn fieldValue ? String( fieldValue ) : '';\n\t}\n}\n\n/**\n * Formats a field key into a human-readable label.\n *\n * @since 6.7.0\n *\n * @param {string} fieldKey The field key (e.g., 'my_field_name').\n * @return {string} Formatted label (e.g., 'My Field Name').\n */\nexport function formatFieldLabel( fieldKey ) {\n\tif ( ! fieldKey ) {\n\t\treturn '';\n\t}\n\n\treturn fieldKey\n\t\t.split( '_' )\n\t\t.map( ( word ) => word.charAt( 0 ).toUpperCase() + word.slice( 1 ) )\n\t\t.join( ' ' );\n}\n\n/**\n * Gets the field label from metadata or formats the field key.\n *\n * @since 6.7.0\n * @param {string} fieldKey        The field key.\n * @param {Object} fieldMetadata   Optional field metadata object.\n * @param {string} defaultLabel    Optional default label to use.\n * @return {string} The field label.\n */\nexport function getFieldLabel(\n\tfieldKey,\n\tfieldMetadata = null,\n\tdefaultLabel = ''\n) {\n\tif ( ! fieldKey ) {\n\t\treturn defaultLabel;\n\t}\n\n\t// Try to get the label from the provided metadata\n\tif ( fieldMetadata && fieldMetadata[ fieldKey ]?.label ) {\n\t\treturn fieldMetadata[ fieldKey ].label;\n\t}\n\n\t// Fallback: format field key as a label\n\treturn formatFieldLabel( fieldKey );\n}\n","/**\n * SCF Field Metadata Cache\n *\n * @since 6.7.0\n * Simple cache for field metadata used in block bindings.\n */\n\nlet fieldMetadataCache = {};\n\n/**\n * Set field metadata, replacing all existing data.\n *\n * @param {Object} fields - Field metadata object keyed by field key.\n */\nexport const setFieldMetadata = ( fields ) => {\n\tfieldMetadataCache = fields || {};\n};\n\n/**\n * Add field metadata, merging with existing data.\n *\n * @param {Object} fields - Field metadata object keyed by field key.\n */\nexport const addFieldMetadata = ( fields ) => {\n\tfieldMetadataCache = { ...fieldMetadataCache, ...fields };\n};\n\n/**\n * Clear all field metadata.\n */\nexport const clearFieldMetadata = () => {\n\tfieldMetadataCache = {};\n};\n\n/**\n * Get field metadata for a specific field.\n *\n * @param {string} fieldKey - The field key to retrieve metadata for.\n * @return {Object|null} Field metadata object or null if not found.\n */\nexport const getFieldMetadata = ( fieldKey ) => {\n\treturn fieldMetadataCache[ fieldKey ] || null;\n};\n\n/**\n * Get all field metadata.\n *\n * @return {Object} All field metadata.\n */\nexport const getAllFieldMetadata = () => {\n\treturn fieldMetadataCache;\n};\n\n/**\n * Check if field metadata exists for a given key.\n *\n * @param {string} fieldKey - The field key to check.\n * @return {boolean} True if metadata exists, false otherwise.\n */\nexport const hasFieldMetadata = ( fieldKey ) => {\n\treturn !! fieldMetadataCache[ fieldKey ];\n};\n","/**\n * Custom hooks for block bindings\n */\n\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport { extractPostTypeFromTemplate, formatFieldGroupsData } from './utils';\nimport { addFieldMetadata } from './fieldMetadataCache';\n\n/**\n * Custom hook to detect if we're in the site editor and get the template info.\n *\n * @since 6.7.0\n * @return {Object} Object containing isSiteEditor flag and templatePostType.\n */\nexport function useSiteEditorContext() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreDataStore );\n\n\t\tconst postType = getCurrentPostType();\n\t\tconst postId = getCurrentPostId();\n\n\t\tconst isSiteEditor = postType === 'wp_template';\n\n\t\tif ( ! isSiteEditor ) {\n\t\t\treturn {\n\t\t\t\tisSiteEditor: false,\n\t\t\t\ttemplatePostType: null,\n\t\t\t};\n\t\t}\n\n\t\tconst template = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template',\n\t\t\tpostId\n\t\t);\n\n\t\tconst templatePostType = extractPostTypeFromTemplate(\n\t\t\ttemplate?.slug || ''\n\t\t);\n\n\t\treturn {\n\t\t\tisSiteEditor: true,\n\t\t\ttemplatePostType,\n\t\t};\n\t}, [] );\n}\n\n/**\n * Custom hook to get SCF fields for the current post editor context.\n *\n * @since 6.7.0\n * @return {Object} Object containing the fields map.\n */\nexport function usePostEditorFields() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreDataStore );\n\n\t\tconst postType = getCurrentPostType();\n\t\tconst postId = getCurrentPostId();\n\n\t\tif ( ! postType || ! postId || postType === 'wp_template' ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst record = getEditedEntityRecord( 'postType', postType, postId );\n\n\t\t// Extract fields that have '_source' counterparts\n\t\tconst sourcedFields = {};\n\t\tif ( record?.acf ) {\n\t\t\tObject.entries( record.acf ).forEach( ( [ key, value ] ) => {\n\t\t\t\tif ( key.endsWith( '_source' ) ) {\n\t\t\t\t\tconst baseFieldName = key.replace( '_source', '' );\n\t\t\t\t\tif ( Object.hasOwn( record.acf, baseFieldName ) ) {\n\t\t\t\t\t\tsourcedFields[ baseFieldName ] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn sourcedFields;\n\t}, [] );\n}\n\n/**\n * Custom hook to fetch and manage SCF field groups from the REST API.\n *\n * @since 6.7.0\n * @param {string|null} postType The post type to fetch fields for.\n * @return {Object} Object containing fields, isLoading, and error.\n */\nexport function useSiteEditorFields( postType ) {\n\tconst [ fields, setFields ] = useState( {} );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst [ error, setError ] = useState( null );\n\n\tuseEffect( () => {\n\t\tif ( ! postType ) {\n\t\t\tsetFields( {} );\n\t\t\tsetIsLoading( false );\n\t\t\tsetError( null );\n\t\t\treturn;\n\t\t}\n\n\t\tlet isCancelled = false;\n\t\tsetIsLoading( true );\n\t\tsetError( null );\n\n\t\tconst fetchFields = async () => {\n\t\t\ttry {\n\t\t\t\tconst path = addQueryArgs( `/wp/v2/types/${ postType }`, {\n\t\t\t\t\tcontext: 'edit',\n\t\t\t\t} );\n\n\t\t\t\tconst postTypeData = await apiFetch( { path } );\n\n\t\t\t\tif ( isCancelled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst fieldsMap = formatFieldGroupsData(\n\t\t\t\t\tpostTypeData.scf_field_groups\n\t\t\t\t);\n\n\t\t\t\t// Store field metadata in the data store\n\t\t\t\taddFieldMetadata( fieldsMap );\n\n\t\t\t\tsetFields( fieldsMap );\n\t\t\t\tsetIsLoading( false );\n\t\t\t} catch ( err ) {\n\t\t\t\tif ( ! isCancelled ) {\n\t\t\t\t\tsetError( err );\n\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfetchFields();\n\n\t\t// Cleanup function to prevent state updates after unmount\n\t\treturn () => {\n\t\t\tisCancelled = true;\n\t\t};\n\t}, [ postType ] );\n\n\treturn { fields, isLoading, error };\n}\n\n/**\n * Custom hook to manage block bindings state.\n *\n * @since 6.7.0\n * @param {Object} blockAttributes The block attributes object.\n * @return {Object} Object containing boundFields and sync function.\n */\nexport function useBoundFields( blockAttributes ) {\n\tconst [ boundFields, setBoundFields ] = useState( {} );\n\n\tuseEffect( () => {\n\t\tconst currentBindings = blockAttributes?.metadata?.bindings || {};\n\t\tconst newBoundFields = {};\n\n\t\tObject.keys( currentBindings ).forEach( ( attribute ) => {\n\t\t\tif ( currentBindings[ attribute ]?.args?.key ) {\n\t\t\t\tnewBoundFields[ attribute ] =\n\t\t\t\t\tcurrentBindings[ attribute ].args.key;\n\t\t\t}\n\t\t} );\n\n\t\tsetBoundFields( newBoundFields );\n\t}, [ blockAttributes?.metadata?.bindings ] );\n\n\treturn { boundFields, setBoundFields };\n}\n","/**\n * WordPress dependencies\n */\nimport { registerBlockBindingsSource } from '@wordpress/blocks';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetSCFFields,\n\tprocessFieldBinding,\n\tformatFieldLabel,\n} from './field-processing';\nimport { getFieldMetadata } from './fieldMetadataCache';\n\n/**\n * Register the SCF field binding source.\n */\nregisterBlockBindingsSource( {\n\tname: 'acf/field',\n\tlabel: __( 'SCF Fields', 'secure-custom-fields' ),\n\tgetLabel( { args, select } ) {\n\t\tconst fieldKey = args?.key;\n\n\t\tif ( ! fieldKey ) {\n\t\t\treturn __( 'SCF Fields', 'secure-custom-fields' );\n\t\t}\n\n\t\tconst fieldMetadata = getFieldMetadata( fieldKey );\n\n\t\tif ( fieldMetadata?.label ) {\n\t\t\treturn fieldMetadata.label;\n\t\t}\n\n\t\treturn formatFieldLabel( fieldKey );\n\t},\n\tgetValues( { context, bindings, select } ) {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\tconst currentPostType = getCurrentPostType();\n\t\tconst isSiteEditor = currentPostType === 'wp_template';\n\n\t\t// In site editor, return field labels as placeholder values\n\t\tif ( isSiteEditor ) {\n\t\t\tconst result = {};\n\t\t\tObject.entries( bindings ).forEach(\n\t\t\t\t( [ attribute, { args } = {} ] ) => {\n\t\t\t\t\tconst fieldKey = args?.key;\n\t\t\t\t\tif ( ! fieldKey ) {\n\t\t\t\t\t\tresult[ attribute ] = '';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst fieldMetadata = getFieldMetadata( fieldKey );\n\t\t\t\t\tresult[ attribute ] =\n\t\t\t\t\t\tfieldMetadata?.label || formatFieldLabel( fieldKey );\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn result;\n\t\t}\n\n\t\t// Regular post editor - get actual field values\n\t\tconst { getEditedEntityRecord } = select( coreDataStore );\n\n\t\tconst post =\n\t\t\tcontext?.postType && context?.postId\n\t\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tcontext.postType,\n\t\t\t\t\t\tcontext.postId\n\t\t\t\t  )\n\t\t\t\t: undefined;\n\n\t\tconst scfFields = getSCFFields( post );\n\t\tconst result = {};\n\n\t\tObject.entries( bindings ).forEach(\n\t\t\t( [ attribute, { args } = {} ] ) => {\n\t\t\t\tconst value = processFieldBinding( attribute, args, scfFields );\n\t\t\t\tresult[ attribute ] = value;\n\t\t\t}\n\t\t);\n\n\t\treturn result;\n\t},\n\tcanUserEditValue() {\n\t\treturn false;\n\t},\n} );\n","/**\n * Utility functions for block bindings\n */\n\nimport { BLOCK_BINDINGS_CONFIG } from './constants';\n\n/**\n * Gets the bindable attributes for a given block.\n *\n * @since 6.7.0\n * @param {string} blockName The name of the block.\n * @return {string[]} The bindable attributes for the block.\n */\nexport function getBindableAttributes( blockName ) {\n\tconst config = BLOCK_BINDINGS_CONFIG[ blockName ];\n\treturn config ? Object.keys( config ) : [];\n}\n\n/**\n * Gets the allowed field types for a specific block attribute.\n *\n * @since 6.7.0\n * @param {string}      blockName The name of the block.\n * @param {string|null} attribute The attribute name, or null for all types.\n * @return {string[]|null} The allowed field types, or null if no restrictions.\n */\nexport function getAllowedFieldTypes( blockName, attribute = null ) {\n\tconst blockConfig = BLOCK_BINDINGS_CONFIG[ blockName ];\n\n\tif ( ! blockConfig ) {\n\t\treturn null;\n\t}\n\n\tif ( attribute ) {\n\t\treturn blockConfig[ attribute ] || null;\n\t}\n\n\t// Get all unique field types for the block\n\treturn [ ...new Set( Object.values( blockConfig ).flat() ) ];\n}\n\n/**\n * Filters field options based on allowed field types.\n *\n * @since 6.7.0\n * @param {Array}       fieldOptions  Array of field option objects with value, label, and type.\n * @param {string}      blockName     The name of the block.\n * @param {string|null} attribute     The attribute name, or null for all types.\n * @return {Array} Filtered array of field options.\n */\nexport function getFilteredFieldOptions(\n\tfieldOptions,\n\tblockName,\n\tattribute = null\n) {\n\tif ( ! fieldOptions || fieldOptions.length === 0 ) {\n\t\treturn [];\n\t}\n\n\tconst allowedTypes = getAllowedFieldTypes( blockName, attribute );\n\n\tif ( ! allowedTypes ) {\n\t\treturn fieldOptions;\n\t}\n\n\treturn fieldOptions.filter( ( option ) =>\n\t\tallowedTypes.includes( option.type )\n\t);\n}\n\n/**\n * Checks if all bindable attributes for a block support the same field types.\n *\n * @since 6.7.0\n * @param {string}   blockName          The name of the block.\n * @param {string[]} bindableAttributes Array of bindable attribute names.\n * @return {boolean} True if all attributes support the same field types.\n */\nexport function canUseUnifiedBinding( blockName, bindableAttributes ) {\n\tif ( ! bindableAttributes || bindableAttributes.length <= 1 ) {\n\t\treturn false;\n\t}\n\n\tconst blockConfig = BLOCK_BINDINGS_CONFIG[ blockName ];\n\tif ( ! blockConfig ) {\n\t\treturn false;\n\t}\n\n\tconst firstAttributeTypes = blockConfig[ bindableAttributes[ 0 ] ] || [];\n\n\treturn bindableAttributes.every( ( attr ) => {\n\t\tconst attrTypes = blockConfig[ attr ] || [];\n\t\treturn (\n\t\t\tattrTypes.length === firstAttributeTypes.length &&\n\t\t\tattrTypes.every( ( type ) => firstAttributeTypes.includes( type ) )\n\t\t);\n\t} );\n}\n\n/**\n * Extracts the post type from a template slug.\n *\n * @since 6.7.0\n * @param {string} templateSlug The template slug (e.g., 'single-product', 'archive-post').\n * @return {string|null} The extracted post type, or null if not detected.\n */\nexport function extractPostTypeFromTemplate( templateSlug ) {\n\tif ( ! templateSlug ) {\n\t\treturn null;\n\t}\n\n\t// Handle single templates\n\tif ( templateSlug.startsWith( 'single-' ) ) {\n\t\treturn templateSlug.replace( 'single-', '' );\n\t}\n\n\t// Handle archive templates\n\tif ( templateSlug.startsWith( 'archive-' ) ) {\n\t\treturn templateSlug.replace( 'archive-', '' );\n\t}\n\n\t// Default single template maps to 'post'\n\tif ( templateSlug === 'single' ) {\n\t\treturn 'post';\n\t}\n\n\treturn null;\n}\n\n/**\n * Formats field data from API response into a usable structure.\n *\n * @since 6.7.0\n * @param {Array} fieldGroups Array of field group objects from the API.\n * @return {Object} Formatted fields map with field name as key.\n */\nexport function formatFieldGroupsData( fieldGroups ) {\n\tconst fieldsMap = {};\n\n\tif ( ! Array.isArray( fieldGroups ) ) {\n\t\treturn fieldsMap;\n\t}\n\n\tfieldGroups.forEach( ( group ) => {\n\t\tif ( Array.isArray( group.fields ) ) {\n\t\t\tgroup.fields.forEach( ( field ) => {\n\t\t\t\tfieldsMap[ field.name ] = {\n\t\t\t\t\tlabel: field.label,\n\t\t\t\t\ttype: field.type,\n\t\t\t\t};\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn fieldsMap;\n}\n\n/**\n * Converts fields map to options array for ComboboxControl.\n *\n * @since 6.7.0\n * @param {Object} fieldsMap Object with field data.\n * @return {Array} Array of option objects with value, label, and type.\n */\nexport function fieldsToOptions( fieldsMap ) {\n\tif ( ! fieldsMap || Object.keys( fieldsMap ).length === 0 ) {\n\t\treturn [];\n\t}\n\n\treturn Object.entries( fieldsMap ).map(\n\t\t( [ fieldName, fieldConfig ] ) => ( {\n\t\t\tvalue: fieldName,\n\t\t\tlabel: fieldConfig.label,\n\t\t\ttype: fieldConfig.type,\n\t\t} )\n\t);\n}\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './sources.js';\nimport './block-editor.js';\n"],"names":["useCallback","useMemo","addFilter","createHigherOrderComponent","InspectorControls","useBlockBindingsUtils","ComboboxControl","__experimentalToolsPanel","ToolsPanel","__experimentalToolsPanelItem","ToolsPanelItem","__","BINDING_SOURCE","getBindableAttributes","getFilteredFieldOptions","canUseUnifiedBinding","fieldsToOptions","useSiteEditorContext","usePostEditorFields","useSiteEditorFields","useBoundFields","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","withCustomControls","BlockEdit","props","bindableAttributes","name","updateBlockBindings","removeAllBlockBindings","isSiteEditor","templatePostType","postEditorFields","fields","siteEditorFields","activeFields","allFieldOptions","boundFields","setBoundFields","attributes","getAttributeFieldOptions","attribute","canUseAllAttributesMode","handleFieldChange","value","Array","isArray","newBoundFields","bindings","forEach","attr","source","args","key","undefined","prev","handleReset","shouldShowPanel","length","children","label","resetAll","hasValue","onDeselect","isShownByDefault","placeholder","options","onChange","__next40pxDefaultSize","__nextHasNoMarginBottom","map","BLOCK_BINDINGS_CONFIG","content","id","url","title","alt","text","linkTarget","rel","getSCFFields","post","acf","sourceFields","Object","entries","endsWith","fieldName","replace","resolveImageAttribute","imageObj","ID","processFieldBinding","scfFields","fieldConfig","fieldType","type","fieldValue","formatted_value","join","String","formatFieldLabel","fieldKey","split","word","charAt","toUpperCase","slice","getFieldLabel","fieldMetadata","defaultLabel","fieldMetadataCache","setFieldMetadata","addFieldMetadata","clearFieldMetadata","getFieldMetadata","getAllFieldMetadata","hasFieldMetadata","useState","useEffect","useSelect","store","coreDataStore","editorStore","apiFetch","addQueryArgs","extractPostTypeFromTemplate","formatFieldGroupsData","select","getCurrentPostType","getCurrentPostId","getEditedEntityRecord","postType","postId","template","slug","record","sourcedFields","baseFieldName","hasOwn","setFields","isLoading","setIsLoading","error","setError","isCancelled","fetchFields","path","context","postTypeData","fieldsMap","scf_field_groups","err","blockAttributes","currentBindings","metadata","keys","registerBlockBindingsSource","getLabel","getValues","currentPostType","result","canUserEditValue","blockName","config","getAllowedFieldTypes","blockConfig","Set","values","flat","fieldOptions","allowedTypes","filter","option","includes","firstAttributeTypes","every","attrTypes","templateSlug","startsWith","fieldGroups","group","field"],"sourceRoot":""}